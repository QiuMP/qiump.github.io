---
title: "Python2.7学习笔记"
date: 2016-05-19
layout: post
categories: 
- Python
tags: 
- Python 
- Python2.7
published: true
comments: 
---
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgheadline3">1. 输入和输出</a>
<ul>
<li><a href="#orgheadline1">输出</a></li>
<li><a href="#orgheadline2">输入</a></li>
</ul>
</li>
<li><a href="#orgheadline19">2. 数据类型和变量</a>
<ul>
<li><a href="#orgheadline4">整数</a></li>
<li><a href="#orgheadline5">浮点数</a></li>
<li><a href="#orgheadline6">字符串</a>
<ul>
<li><a href="#orgheadline7">字符编码</a></li>
<li><a href="#orgheadline8">Python字符串</a></li>
<li><a href="#orgheadline9">格式化字符串</a></li>
</ul>
</li>
<li><a href="#orgheadline10">布尔值</a></li>
<li><a href="#orgheadline11">空值</a></li>
<li><a href="#orgheadline12">变量</a></li>
<li><a href="#orgheadline13">常量</a></li>
<li><a href="#orgheadline18">特殊类型</a>
<ul>
<li><a href="#orgheadline14">list</a></li>
<li><a href="#orgheadline15">tuple</a></li>
<li><a href="#orgheadline16">dict</a></li>
<li><a href="#orgheadline17">set</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgheadline22">3. 条件判断和循环</a>
<ul>
<li><a href="#orgheadline20">条件判断</a></li>
<li><a href="#orgheadline21">循环</a></li>
</ul>
</li>
<li><a href="#orgheadline39">4. 函数</a>
<ul>
<li><a href="#orgheadline23">定义函数</a></li>
<li><a href="#orgheadline24">函数的参数</a>
<ul>
<li><a href="#orgheadline25">默认参数</a></li>
<li><a href="#orgheadline26">可变参数</a></li>
<li><a href="#orgheadline27">关键字参数</a></li>
</ul>
</li>
<li><a href="#orgheadline28">递归函数</a></li>
<li><a href="#orgheadline29">函数名</a></li>
<li><a href="#orgheadline34">内建函数：</a>
<ul>
<li><a href="#orgheadline30">map</a></li>
<li><a href="#orgheadline31">reduce</a></li>
<li><a href="#orgheadline32">filter</a></li>
<li><a href="#orgheadline33">sorted</a></li>
</ul>
</li>
<li><a href="#orgheadline35">返回函数</a></li>
<li><a href="#orgheadline36">匿名函数</a></li>
<li><a href="#orgheadline37">装饰器</a></li>
<li><a href="#orgheadline38">偏函数</a></li>
</ul>
</li>
<li><a href="#orgheadline48">5. 高级特性</a>
<ul>
<li><a href="#orgheadline40">切片</a></li>
<li><a href="#orgheadline41">迭代</a>
<ul>
<li><a href="#orgheadline42">多变量的迭代</a></li>
<li><a href="#orgheadline43">dict的迭代</a></li>
<li><a href="#orgheadline44">字符串的迭代</a></li>
<li><a href="#orgheadline45">list的下标循环</a></li>
</ul>
</li>
<li><a href="#orgheadline46">列表生成式</a></li>
<li><a href="#orgheadline47">生成器generator</a></li>
</ul>
</li>
<li><a href="#orgheadline54">6. 模块</a>
<ul>
<li><a href="#orgheadline49">模块与包</a></li>
<li><a href="#orgheadline50">使用模块</a></li>
<li><a href="#orgheadline51">模块的别名</a></li>
<li><a href="#orgheadline52">作用域</a></li>
<li><a href="#orgheadline53">使用__future__</a></li>
</ul>
</li>
<li><a href="#orgheadline66">7. 面向对象编程</a>
<ul>
<li><a href="#orgheadline55">类与实例</a></li>
<li><a href="#orgheadline58">继承和多态</a>
<ul>
<li><a href="#orgheadline56">继承</a></li>
<li><a href="#orgheadline57">多态</a></li>
</ul>
</li>
<li><a href="#orgheadline62">获取对象信息</a>
<ul>
<li><a href="#orgheadline59">type()</a></li>
<li><a href="#orgheadline60">isinstance()</a></li>
<li><a href="#orgheadline61">dir()与hasattr()</a></li>
</ul>
</li>
<li><a href="#orgheadline63">为类绑定方法</a></li>
<li><a href="#orgheadline64">使用@property</a></li>
<li><a href="#orgheadline65">多重继承</a></li>
</ul>
</li>
<li><a href="#orgheadline70">8. 定制类</a>
<ul>
<li><a href="#orgheadline67">__slots__</a></li>
<li><a href="#orgheadline68">__str__ 与 <span class="underline"><span class="underline">repr</span></span></a></li>
<li><a href="#orgheadline69">__iter__</a></li>
</ul>
</li>
</ul>
</div>
</div>
<p>
通过廖雪峰教程学习Python2.7所做的笔记
</p>




<hr  />
<div id="outline-container-orgheadline3" class="outline-2">
<h2 id="orgheadline3"><span class="section-number-2">1</span> 输入和输出</h2>
<div class="outline-text-2" id="text-1">
</div><div id="outline-container-orgheadline1" class="outline-3">
<h3 id="orgheadline1">输出</h3>
<div class="outline-text-3" id="text-orgheadline1">
<p>
用 <code>print</code> 可以输出字符串、结果
</p>
<div class="org-src-container">

<pre class="src src-python"><span style="color: #F92672;">print</span> <span style="color: #E6DB74;">'100 + 200 ='</span>, <span style="color: #AE81FF;">100</span>, <span style="color: #AE81FF;">100</span> + <span style="color: #AE81FF;">200</span>
<span style="color: #75715E;"># </span><span style="color: #75715E;">&#20351;&#29992;&#36887;&#21495;','&#21487;&#20197;&#36830;&#25509;&#22810;&#20010;&#23383;&#31526;&#20018;&#65292;print&#36935;&#21040;&#36887;&#21495;&#20250;&#36755;&#20986;&#19968;&#20010;&#31354;&#26684;</span>
<span style="color: #F92672;">print</span> <span style="color: #AE81FF;">100</span>,  <span style="color: #75715E;"># </span><span style="color: #75715E;">&#26368;&#21518;&#30340;&#36887;&#21495;&#33021;&#20351;print&#19981;&#36755;&#20986;&#26368;&#21518;&#30340;&#22238;&#36710;</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline2" class="outline-3">
<h3 id="orgheadline2">输入</h3>
<div class="outline-text-3" id="text-orgheadline2">
<p>
使用 <code>raw_input()</code> 来让用户输入字符串（注意：该函数读取的内容永远以字符串的形式返回）
</p>
<div class="org-src-container">

<pre class="src src-python"><span style="color: #FD971F;">name</span> = <span style="color: #F92672;">raw_input</span><span style="color: #AE81FF;">()</span>
<span style="color: #FD971F;">name</span> = <span style="color: #F92672;">raw_input</span><span style="color: #AE81FF;">(</span><span style="color: #E6DB74;">'&#25552;&#31034;&#23383;&#31526;:'</span><span style="color: #AE81FF;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgheadline19" class="outline-2">
<h2 id="orgheadline19"><span class="section-number-2">2</span> 数据类型和变量</h2>
<div class="outline-text-2" id="text-2">
<ul class="org-ul">
<li><code>#注释</code> #后边的字符为注释</li>
</ul>
</div>

<div id="outline-container-orgheadline4" class="outline-3">
<h3 id="orgheadline4">整数</h3>
<div class="outline-text-3" id="text-orgheadline4">
<ul class="org-ul">
<li>普通整数: 1, -80</li>
<li>十六进制使用 <code>0x</code> 开头: 0xff00</li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline5" class="outline-3">
<h3 id="orgheadline5">浮点数</h3>
<div class="outline-text-3" id="text-orgheadline5">
<ul class="org-ul">
<li>普通浮点数: 1.2, -1.02</li>
<li>科学计数法: 1.23e8, 1.5e-5</li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline6" class="outline-3">
<h3 id="orgheadline6">字符串</h3>
<div class="outline-text-3" id="text-orgheadline6">
<ul class="org-ul">
<li>字符串是以 '' 或 "" 括起来的任意文本，字符串里可以使用转义字符（\n、\t、\\等等）</li>
<li>r'' 表示字符串默认不转义</li>
<li><p>
如果字符串中含有很多换行， \n 用起来不好阅读，可以使用 ''' ''' 或 r''' '''
</p>
<div class="org-src-container">

<pre class="src src-python"><span style="color: #F92672;">print</span> <span style="color: #E6DB74;">'''line1</span>
<span style="color: #E6DB74;">line2</span>
<span style="color: #E6DB74;">line3'''</span>
</pre>
</div></li>
<li>字符串之间可以直接相加+ 结果是两个字符串连接起来</li>
</ul>
</div>

<div id="outline-container-orgheadline7" class="outline-4">
<h4 id="orgheadline7">字符编码</h4>
<div class="outline-text-4" id="text-orgheadline7">
<ul class="org-ul">
<li>ASCII编码占用1个字节，不支持中文</li>
<li>Unicode编码占用2个字节，支持中文</li>
<li>UTF-8编码把Unicode编码成1-6个字节，用于节省空间，常常需要转换成Unicode后才用于打印字符</li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline8" class="outline-4">
<h4 id="orgheadline8">Python字符串</h4>
<div class="outline-text-4" id="text-orgheadline8">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">字符串</th>
<th scope="col" class="org-left">编码</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">'abc'</td>
<td class="org-left">ASCII</td>
</tr>

<tr>
<td class="org-left">u'abc'</td>
<td class="org-left">Unicode</td>
</tr>

<tr>
<td class="org-left">u'abc'.encode('utf-8')</td>
<td class="org-left">UTF-8</td>
</tr>
</tbody>
</table>

<ul class="org-ul">
<li>同时，由于Python源代码也是个文本文件，文件包含中文的时候，需要在文件头加上</li>
</ul>
<div class="org-src-container">

<pre class="src src-python"><span style="color: #75715E;">#</span><span style="color: #75715E;">!/usr/bin/env python</span>
<span style="color: #75715E;"># </span><span style="color: #75715E;">-*- coding: utf-8 -*-</span>
</pre>
</div>
<ul class="org-ul">
<li>字符串是不变对象，即调用自身的任意方法也不会改变自身的内容，这些方法会创建新的对象并返回</li>
</ul>
<div class="org-src-container">

<pre class="src src-python"><span style="color: #FD971F;">a</span> = <span style="color: #E6DB74;">'abc'</span>
<span style="color: #FD971F;">b</span> = a.replace<span style="color: #AE81FF;">(</span><span style="color: #E6DB74;">'a'</span>, <span style="color: #E6DB74;">'A'</span><span style="color: #AE81FF;">)</span>
<span style="color: #FD971F;">c</span> = a.title<span style="color: #AE81FF;">()</span> <span style="color: #75715E;"># </span><span style="color: #75715E;">&#23383;&#31526;&#20018;&#24320;&#22836;&#31532;&#19968;&#20010;&#23383;&#27597;&#22823;&#20889;&#65292;&#20854;&#20182;&#23567;&#20889;</span>
<span style="color: #75715E;"># </span><span style="color: #75715E;">a&#20173;&#20026;'abc'</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline9" class="outline-4">
<h4 id="orgheadline9">格式化字符串</h4>
<div class="outline-text-4" id="text-orgheadline9">
<ul class="org-ul">
<li><code>%</code> 运算符用于格式化字符串，python采用的格式化方式和C语言一样</li>
</ul>
<div class="org-src-container">

<pre class="src src-python"><span style="color: #F92672;">print</span> u<span style="color: #E6DB74;">'Hello, %s'</span> % u<span style="color: #E6DB74;">'world'</span>
<span style="color: #F92672;">print</span> <span style="color: #E6DB74;">'Hello, %s%d'</span> % <span style="color: #AE81FF;">(</span><span style="color: #E6DB74;">'world'</span>, <span style="color: #AE81FF;">2</span><span style="color: #AE81FF;">)</span>
</pre>
</div>
<dl class="org-dl">
<dt>常见占位符</dt><dd></dd>
</dl>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">%d</td>
<td class="org-left">整数</td>
</tr>

<tr>
<td class="org-left">%x</td>
<td class="org-left">十六进制整数</td>
</tr>

<tr>
<td class="org-left">%f</td>
<td class="org-left">浮点数</td>
</tr>

<tr>
<td class="org-left">%s</td>
<td class="org-left">字符串（自动把任何数据转换为字符串）</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


<div id="outline-container-orgheadline10" class="outline-3">
<h3 id="orgheadline10">布尔值</h3>
<div class="outline-text-3" id="text-orgheadline10">
<ul class="org-ul">
<li>一个布尔值只用 <code>True</code> 、 <code>False</code> 两种值</li>
<li>布尔值可以用 <code>and</code> 、 <code>or</code> 、 <code>not</code> 运算</li>
<li>比如 2&gt;1 的值为 True</li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline11" class="outline-3">
<h3 id="orgheadline11">空值</h3>
<div class="outline-text-3" id="text-orgheadline11">
<ul class="org-ul">
<li>空值用 <code>None</code> 表示</li>
<li><code>None</code> 并不能理解为0, 0是有意义的</li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline12" class="outline-3">
<h3 id="orgheadline12">变量</h3>
<div class="outline-text-3" id="text-orgheadline12">
<ul class="org-ul">
<li>变量名是大小写英文、数字和 _ 的组合，并且不能用数字开头</li>
<li>对于 a='abc' ，Python解释器做了两件事情：
<ol class="org-ol">
<li>在内存中创建了 <code>abc</code> 的字符串</li>
<li>在内存中创建了名为 <code>a</code> 的变量，并把它指向 <code>abc</code></li>
</ol></li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline13" class="outline-3">
<h3 id="orgheadline13">常量</h3>
<div class="outline-text-3" id="text-orgheadline13">
<ul class="org-ul">
<li>python中，通常用全部大写的变量表示常量，但并不保证该变量不会被改变</li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline18" class="outline-3">
<h3 id="orgheadline18">特殊类型</h3>
<div class="outline-text-3" id="text-orgheadline18">
</div><div id="outline-container-orgheadline14" class="outline-4">
<h4 id="orgheadline14">list</h4>
<div class="outline-text-4" id="text-orgheadline14">
<ul class="org-ul">
<li>list是一种有序的集合，可以随时添加和删除其中的元素，是一种可变对象</li>
</ul>
<div class="org-src-container">

<pre class="src src-python"><span style="color: #FD971F;">alist</span> = <span style="color: #AE81FF;">[</span><span style="color: #E6DB74;">'first'</span>, <span style="color: #AE81FF;">123</span>, <span style="color: #66D9EF;">[</span><span style="color: #E6DB74;">'lis'</span>,<span style="color: #AE81FF;">123</span><span style="color: #66D9EF;">]</span><span style="color: #AE81FF;">]</span>
<span style="color: #FD971F;">blist</span> = <span style="color: #AE81FF;">[]</span> <span style="color: #75715E;">#</span><span style="color: #75715E;">&#31354;list</span>
<span style="color: #F92672;">print</span> alist<span style="color: #AE81FF;">[</span><span style="color: #AE81FF;">0</span><span style="color: #AE81FF;">]</span> <span style="color: #75715E;">#</span><span style="color: #75715E;">&#24403;&#32034;&#24341;&#36229;&#20986;&#33539;&#22260;&#26102;&#20250;&#25253;&#19968;&#20010;IndexError&#38169;&#35823;</span>
<span style="color: #F92672;">print</span> alint<span style="color: #AE81FF;">[</span>-<span style="color: #AE81FF;">1</span><span style="color: #AE81FF;">]</span> <span style="color: #75715E;">#</span><span style="color: #75715E;">&#33719;&#21462;&#20498;&#25968;&#31532;1&#20010;&#20803;&#32032;</span>
</pre>
</div>
<ul class="org-ul">
<li>使用 <code>len()</code> 可以获得list元素的个数</li>
<li>list常用方法:</li>
</ul>
<div class="org-src-container">

<pre class="src src-python">alist.append<span style="color: #AE81FF;">(</span><span style="color: #E6DB74;">'yes'</span><span style="color: #AE81FF;">)</span>    <span style="color: #75715E;"># </span><span style="color: #75715E;">&#23558;&#20803;&#32032;&#28155;&#21152;&#21040;list&#26411;&#23614; </span>
alist.insert<span style="color: #AE81FF;">(</span><span style="color: #AE81FF;">1</span>, <span style="color: #E6DB74;">'yes'</span><span style="color: #AE81FF;">)</span> <span style="color: #75715E;"># </span><span style="color: #75715E;">&#23558;&#20803;&#32032;&#28155;&#21152;&#21040;&#25351;&#23450;&#20301;&#32622; </span>
alist.pop<span style="color: #AE81FF;">()</span>            <span style="color: #75715E;"># </span><span style="color: #75715E;">&#21024;&#38500;&#26411;&#23614;&#30340;&#20803;&#32032;       </span>
alist.pop<span style="color: #AE81FF;">(</span><span style="color: #AE81FF;">1</span><span style="color: #AE81FF;">)</span>           <span style="color: #75715E;"># </span><span style="color: #75715E;">&#21024;&#38500;&#25351;&#23450;&#20803;&#32032;         </span>
<span style="color: #FD971F;">alist</span><span style="color: #AE81FF;">[</span><span style="color: #AE81FF;">1</span><span style="color: #AE81FF;">]</span>= <span style="color: #E6DB74;">'yes'</span>        <span style="color: #75715E;"># </span><span style="color: #75715E;">&#26367;&#25442;&#25351;&#23450;&#20803;&#32032;</span>
</pre>
</div>
<ul class="org-ul">
<li>list的查找和插入速度随着元素的增加而增加</li>
</ul>
</div>
</div>
<div id="outline-container-orgheadline15" class="outline-4">
<h4 id="orgheadline15">tuple</h4>
<div class="outline-text-4" id="text-orgheadline15">
<ul class="org-ul">
<li>tuple和list类似，但一旦初始化就不能修改了（即没有append()、insert()这样的方法）</li>
</ul>
<div class="org-src-container">

<pre class="src src-python"><span style="color: #FD971F;">atuple</span> = <span style="color: #AE81FF;">(</span><span style="color: #E6DB74;">'first'</span>, <span style="color: #AE81FF;">123</span><span style="color: #AE81FF;">)</span>
<span style="color: #FD971F;">btuple</span> = <span style="color: #AE81FF;">(</span><span style="color: #AE81FF;">2</span>,<span style="color: #AE81FF;">)</span> <span style="color: #75715E;"># </span><span style="color: #75715E;">&#19968;&#20010;&#20803;&#32032;&#38656;&#35201;&#22312;&#20803;&#32032;&#21518;&#21152;&#36887;&#21495;</span>
<span style="color: #FD971F;">ctuple</span> = <span style="color: #AE81FF;">(</span><span style="color: #E6DB74;">'first'</span>, <span style="color: #66D9EF;">[</span><span style="color: #E6DB74;">'x'</span>, <span style="color: #E6DB74;">'y'</span><span style="color: #66D9EF;">]</span><span style="color: #AE81FF;">)</span> <span style="color: #75715E;"># </span><span style="color: #75715E;">list&#20869;&#21487;&#20197;&#21464;&#65292;&#22240;&#27492;&#35813;tuple&#21464;&#25104;&#20102;&#21487;&#21464;&#23545;&#35937;</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgheadline16" class="outline-4">
<h4 id="orgheadline16">dict</h4>
<div class="outline-text-4" id="text-orgheadline16">
<ul class="org-ul">
<li>dict使用key-value存储（作为key的对象必须不可变），具有极快的查找速度，但存储顺序不能保证</li>
</ul>
<div class="org-src-container">

<pre class="src src-python"><span style="color: #FD971F;">dic</span> = <span style="color: #AE81FF;">{</span><span style="color: #E6DB74;">'first'</span>: <span style="color: #AE81FF;">1</span>, <span style="color: #E6DB74;">'second'</span>: <span style="color: #AE81FF;">2</span>, <span style="color: #E6DB74;">'three'</span>: <span style="color: #AE81FF;">3</span><span style="color: #AE81FF;">}</span> <span style="color: #75715E;"># </span><span style="color: #75715E;">&#21021;&#22987;&#21270;dict</span>
<span style="color: #F92672;">print</span> dic<span style="color: #AE81FF;">[</span><span style="color: #E6DB74;">'first'</span><span style="color: #AE81FF;">]</span>  <span style="color: #75715E;"># </span><span style="color: #75715E;">&#26597;&#25214;dict&#65292;&#24403;key&#19981;&#23384;&#22312;&#26102;&#25253;&#38169;</span>
<span style="color: #F92672;">print</span> dic.get<span style="color: #AE81FF;">(</span><span style="color: #E6DB74;">'first'</span><span style="color: #AE81FF;">)</span>  <span style="color: #75715E;"># </span><span style="color: #75715E;">&#26597;&#25214;dict&#65292;&#24403;key&#19981;&#23384;&#22312;&#26102;&#36820;&#22238;None</span>
<span style="color: #F92672;">print</span> dic.get<span style="color: #AE81FF;">(</span><span style="color: #E6DB74;">'first'</span>, -<span style="color: #AE81FF;">1</span><span style="color: #AE81FF;">)</span>  <span style="color: #75715E;"># </span><span style="color: #75715E;">&#26597;&#25214;dict&#65292;&#24403;key&#19981;&#23384;&#22312;&#26102;&#36820;&#22238;-1</span>
<span style="color: #FD971F;">dic</span><span style="color: #AE81FF;">[</span><span style="color: #E6DB74;">'first'</span><span style="color: #AE81FF;">]</span> = <span style="color: #AE81FF;">2</span>  <span style="color: #75715E;"># </span><span style="color: #75715E;">&#20462;&#25913;&#25110;&#28155;&#21152;dict</span>
dic.pop<span style="color: #AE81FF;">(</span><span style="color: #E6DB74;">'three'</span><span style="color: #AE81FF;">)</span>  <span style="color: #75715E;"># </span><span style="color: #75715E;">&#21024;&#38500;dict&#20013;&#30340;&#19968;&#20010;key</span>
</pre>
</div>
<ul class="org-ul">
<li>判断dict中key是否存在</li>
</ul>
<div class="org-src-container">

<pre class="src src-python"><span style="color: #F92672;">if</span> <span style="color: #E6DB74;">'first'</span> <span style="color: #F92672;">in</span> dic:
    <span style="color: #F92672;">print</span> <span style="color: #E6DB74;">'yes'</span>
</pre>
</div>
<ul class="org-ul">
<li>dict与list相比，查找和插入速度极快，但需要占用大量的内存</li>
</ul>
</div>
</div>
<div id="outline-container-orgheadline17" class="outline-4">
<h4 id="orgheadline17">set</h4>
<div class="outline-text-4" id="text-orgheadline17">
<ul class="org-ul">
<li>set是一组key的集合，即在set中，没有重复的key（同样不可变，即参数不能包含list这种可变元素）</li>
</ul>
<div class="org-src-container">

<pre class="src src-python"><span style="color: #FD971F;">s</span> = <span style="color: #F92672;">set</span><span style="color: #AE81FF;">(</span><span style="color: #66D9EF;">[</span><span style="color: #AE81FF;">1</span>,<span style="color: #AE81FF;">2</span>,<span style="color: #AE81FF;">2</span>,<span style="color: #AE81FF;">3</span><span style="color: #66D9EF;">]</span><span style="color: #AE81FF;">)</span>  <span style="color: #75715E;"># </span><span style="color: #75715E;">&#21019;&#24314;&#19968;&#20010;set&#65292;&#38656;&#35201;&#25552;&#20379;&#19968;&#20010;list&#20316;&#20026;&#36755;&#20837;&#38598;&#21512;</span>
<span style="color: #FD971F;">s</span> = <span style="color: #F92672;">set</span><span style="color: #AE81FF;">(</span><span style="color: #66D9EF;">[</span><span style="color: #AE81FF;">1</span>,<span style="color: #AE81FF;">2</span>,<span style="color: #AE81FF;">2</span>,<span style="color: #A6E22E;">[</span><span style="color: #AE81FF;">1</span>,<span style="color: #AE81FF;">2</span><span style="color: #A6E22E;">]</span><span style="color: #66D9EF;">]</span><span style="color: #AE81FF;">)</span>  <span style="color: #75715E;"># </span><span style="color: #75715E;">&#25253;&#38169;&#65292;&#21442;&#25968;&#21253;&#21547;list</span>
s.add<span style="color: #AE81FF;">(</span><span style="color: #AE81FF;">5</span><span style="color: #AE81FF;">)</span>  <span style="color: #75715E;"># </span><span style="color: #75715E;">&#28155;&#21152;&#20803;&#32032;</span>
s.remove<span style="color: #AE81FF;">(</span><span style="color: #AE81FF;">3</span><span style="color: #AE81FF;">)</span>  <span style="color: #75715E;">#</span><span style="color: #75715E;">&#21024;&#38500;&#20803;&#32032;</span>
</pre>
</div>
<ul class="org-ul">
<li>set之间可以取交集|、并集&amp;</li>
</ul>
<div class="org-src-container">

<pre class="src src-python"><span style="color: #FD971F;">s1</span> = <span style="color: #F92672;">set</span><span style="color: #AE81FF;">(</span><span style="color: #66D9EF;">[</span><span style="color: #AE81FF;">1</span>,<span style="color: #AE81FF;">2</span>,<span style="color: #AE81FF;">3</span><span style="color: #66D9EF;">]</span><span style="color: #AE81FF;">)</span>
<span style="color: #FD971F;">s2</span> = <span style="color: #F92672;">set</span><span style="color: #AE81FF;">(</span><span style="color: #66D9EF;">[</span><span style="color: #AE81FF;">2</span>,<span style="color: #AE81FF;">3</span>,<span style="color: #AE81FF;">4</span><span style="color: #66D9EF;">]</span><span style="color: #AE81FF;">)</span>
<span style="color: #F92672;">print</span> s1 | s2  <span style="color: #75715E;">#</span><span style="color: #75715E;">&#20132;&#38598; set([2,3])</span>
<span style="color: #F92672;">print</span> s1 &amp; s2  <span style="color: #75715E;">#</span><span style="color: #75715E;">&#24182;&#38598; set([1,2,3,4])</span>
</pre>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-orgheadline22" class="outline-2">
<h2 id="orgheadline22"><span class="section-number-2">3</span> 条件判断和循环</h2>
<div class="outline-text-2" id="text-3">
</div><div id="outline-container-orgheadline20" class="outline-3">
<h3 id="orgheadline20">条件判断</h3>
<div class="outline-text-3" id="text-orgheadline20">
<dl class="org-dl">
<dt>if</dt><dd></dd>
</dl>
<div class="org-src-container">

<pre class="src src-python"><span style="color: #F92672;">if</span> <span style="color: #AE81FF;">3</span> &gt; <span style="color: #AE81FF;">2</span>:
    <span style="color: #F92672;">print</span> <span style="color: #E6DB74;">'true'</span>
<span style="color: #F92672;">elif</span> x:  <span style="color: #75715E;"># </span><span style="color: #75715E;">&#21482;&#35201;x&#26159;&#38750;&#38646;&#25968;&#20540;&#12289;&#38750;&#31354;&#23383;&#31526;&#20018;&#12289;&#38750;&#31354;list&#31561;&#65292;&#23601;&#21028;&#26029;&#20026;True</span>
    <span style="color: #F92672;">print</span> <span style="color: #E6DB74;">'another'</span>
<span style="color: #F92672;">else</span>:
    <span style="color: #F92672;">print</span> <span style="color: #E6DB74;">'false'</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline21" class="outline-3">
<h3 id="orgheadline21">循环</h3>
<div class="outline-text-3" id="text-orgheadline21">
<dl class="org-dl">
<dt>for</dt><dd></dd>
</dl>
<div class="org-src-container">

<pre class="src src-python"><span style="color: #F92672;">for</span> x <span style="color: #F92672;">in</span> <span style="color: #F92672;">range</span><span style="color: #AE81FF;">(</span><span style="color: #AE81FF;">101</span><span style="color: #AE81FF;">)</span>: <span style="color: #75715E;">#</span><span style="color: #75715E;">range(101)&#29983;&#25104;0-100&#30340;&#25972;&#25968;list</span>
                     <span style="color: #75715E;">#</span><span style="color: #75715E;">range(3, 50)&#29983;&#25104;3-49&#30340;&#25972;&#25968;list</span>
    <span style="color: #F92672;">print</span> x
</pre>
</div>
<dl class="org-dl">
<dt>while</dt><dd></dd>
</dl>
<div class="org-src-container">

<pre class="src src-python"><span style="color: #F92672;">while</span> <span style="color: #AE81FF;">True</span>:
    <span style="color: #F92672;">print</span> <span style="color: #E6DB74;">'yes'</span>
    <span style="color: #F92672;">break</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgheadline39" class="outline-2">
<h2 id="orgheadline39"><span class="section-number-2">4</span> 函数</h2>
<div class="outline-text-2" id="text-4">
</div><div id="outline-container-orgheadline23" class="outline-3">
<h3 id="orgheadline23">定义函数</h3>
<div class="outline-text-3" id="text-orgheadline23">
<div class="org-src-container">

<pre class="src src-python"><span style="color: #F92672;">def</span> <span style="color: #A6E22E;">my_abs</span><span style="color: #AE81FF;">(</span>x<span style="color: #AE81FF;">)</span>:  <span style="color: #75715E;"># </span><span style="color: #75715E;">&#20351;&#29992;def&#23450;&#20041;&#20989;&#25968;&#65292;&#26368;&#21518;&#35201;&#21152;&#20882;&#21495;</span>
    <span style="color: #F92672;">if</span> <span style="color: #F92672;">not</span> <span style="color: #F92672;">isinstance</span><span style="color: #AE81FF;">(</span>x, <span style="color: #66D9EF;">(</span><span style="color: #F92672;">int</span>, <span style="color: #F92672;">float</span><span style="color: #66D9EF;">)</span><span style="color: #AE81FF;">)</span>:  <span style="color: #75715E;"># </span><span style="color: #75715E;">isinstance&#29992;&#20110;&#26816;&#26597;&#21464;&#37327;&#31867;&#22411;</span>
        <span style="color: #F92672;">raise</span> <span style="color: #66D9EF;">TypeError</span><span style="color: #AE81FF;">(</span><span style="color: #E6DB74;">'Wrong'</span><span style="color: #AE81FF;">)</span>  <span style="color: #75715E;">#</span><span style="color: #75715E;">raise&#29992;&#20110;&#25243;&#20986;&#24322;&#24120;</span>
    <span style="color: #F92672;">if</span> x &gt;= <span style="color: #AE81FF;">0</span>:
        <span style="color: #F92672;">return</span> x  
    <span style="color: #F92672;">else</span>:
        <span style="color: #F92672;">return</span> -x  <span style="color: #75715E;"># </span><span style="color: #75715E;">return&#29992;&#20110;&#32467;&#26463;&#20989;&#25968;&#25191;&#34892;&#65292;&#36820;&#22238;&#32467;&#26524;</span>
my_abs<span style="color: #AE81FF;">(</span><span style="color: #AE81FF;">12</span><span style="color: #AE81FF;">)</span>  <span style="color: #75715E;"># </span><span style="color: #75715E;">&#35843;&#29992;&#20989;&#25968;</span>
my_abs<span style="color: #AE81FF;">(</span><span style="color: #AE81FF;">12</span>,<span style="color: #AE81FF;">12</span><span style="color: #AE81FF;">)</span>  <span style="color: #75715E;"># </span><span style="color: #75715E;">&#24403;&#21442;&#25968;&#20010;&#25968;&#19981;&#23545;&#26102;&#65292;&#20250;&#25243;&#20986;TypeError&#38169;&#35823;</span>
</pre>
</div>
<dl class="org-dl">
<dt>空函数</dt><dd></dd>
</dl>
<div class="org-src-container">

<pre class="src src-python"><span style="color: #F92672;">def</span> <span style="color: #A6E22E;">kong</span><span style="color: #AE81FF;">()</span>:
    <span style="color: #F92672;">pass</span>  <span style="color: #75715E;"># </span><span style="color: #75715E;">pass&#26159;&#19968;&#20010;&#21344;&#20301;&#31526;&#65292;&#20160;&#20040;&#20063;&#19981;&#20570;&#65292;&#21487;&#20197;&#29992;&#26469;&#23450;&#20041;&#31354;&#20989;&#25968;</span>
</pre>
</div>
<dl class="org-dl">
<dt>返回多个值</dt><dd></dd>
</dl>
<div class="org-src-container">

<pre class="src src-python"><span style="color: #F92672;">def</span> <span style="color: #A6E22E;">exchange</span><span style="color: #AE81FF;">(</span>x, y<span style="color: #AE81FF;">)</span>:
    <span style="color: #F92672;">return</span> y, x  <span style="color: #75715E;">#</span><span style="color: #75715E;">&#36820;&#22238;&#20540;&#20854;&#23454;&#26159;&#19968;&#20010;tuple</span>
<span style="color: #FD971F;">x</span>, <span style="color: #FD971F;">y</span> = exchange<span style="color: #AE81FF;">(</span>x, y<span style="color: #AE81FF;">)</span>  <span style="color: #75715E;"># </span><span style="color: #75715E;">&#22810;&#20010;&#21464;&#37327;&#21487;&#20197;&#21516;&#26102;&#25509;&#25910;&#19968;&#20010;tuple</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline24" class="outline-3">
<h3 id="orgheadline24">函数的参数</h3>
<div class="outline-text-3" id="text-orgheadline24">
<ul class="org-ul">
<li>函数参数传进去是进行复制，在函数内对参数的改动不会影响传进去的参数</li>
</ul>
</div>
<div id="outline-container-orgheadline25" class="outline-4">
<h4 id="orgheadline25">默认参数</h4>
<div class="outline-text-4" id="text-orgheadline25">
<ul class="org-ul">
<li>默认参数不能放在普通参数之前</li>
</ul>
<div class="org-src-container">

<pre class="src src-python"><span style="color: #F92672;">def</span> <span style="color: #A6E22E;">get</span><span style="color: #AE81FF;">(</span>x, y=<span style="color: #AE81FF;">2</span><span style="color: #AE81FF;">)</span>:  <span style="color: #75715E;"># </span><span style="color: #75715E;">&#33509;y&#27809;&#26377;&#20256;&#20837;&#21442;&#25968;&#21017;&#20026;2</span>
    <span style="color: #F92672;">pass</span>
get<span style="color: #AE81FF;">(</span><span style="color: #AE81FF;">1</span><span style="color: #AE81FF;">)</span>  <span style="color: #75715E;"># </span><span style="color: #75715E;">y=2</span>
</pre>
</div>
<ul class="org-ul">
<li>默认参数必须指向不变对象</li>
</ul>
<div class="org-src-container">

<pre class="src src-python"><span style="color: #F92672;">def</span> <span style="color: #A6E22E;">add_end</span><span style="color: #AE81FF;">(</span>L=<span style="color: #66D9EF;">[]</span><span style="color: #AE81FF;">)</span>
    L.append<span style="color: #AE81FF;">(</span><span style="color: #E6DB74;">'yes'</span><span style="color: #AE81FF;">)</span>
    <span style="color: #F92672;">return</span> L
<span style="color: #75715E;"># </span><span style="color: #75715E;">&#24403;&#22810;&#27425;&#35843;&#29992; add_end() &#30340;&#26102;&#20505;&#65292;&#30001;&#20110;L&#25351;&#21521;&#30340;&#26159;&#21487;&#21464;&#23545;&#35937;list&#65292;&#22240;&#27492;&#27599;&#27425;&#35843;&#29992;&#37117;&#20250;&#22312;&#35813;&#23545;&#35937;&#21518;&#28155;&#21152;&#20803;&#32032;&#65292;&#36896;&#25104;&#38169;&#35823;</span>
<span style="color: #75715E;"># </span><span style="color: #75715E;">&#35299;&#20915;&#26041;&#27861;&#65306;</span>
<span style="color: #F92672;">def</span> <span style="color: #A6E22E;">add_end</span><span style="color: #AE81FF;">(</span>L=<span style="color: #AE81FF;">None</span><span style="color: #AE81FF;">)</span>:
    <span style="color: #F92672;">if</span> L <span style="color: #F92672;">is</span> <span style="color: #AE81FF;">None</span>:
        <span style="color: #FD971F;">L</span> = <span style="color: #AE81FF;">[]</span>
    L.append<span style="color: #AE81FF;">(</span><span style="color: #E6DB74;">'yes'</span><span style="color: #AE81FF;">)</span>
    <span style="color: #F92672;">return</span> L
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline26" class="outline-4">
<h4 id="orgheadline26">可变参数</h4>
<div class="outline-text-4" id="text-orgheadline26">
<p>
可变参数将多余的参数组装成一个tuple（即函数内不可变），可能为空
</p>
<div class="org-src-container">

<pre class="src src-python"><span style="color: #F92672;">def</span> <span style="color: #A6E22E;">mysum</span><span style="color: #AE81FF;">(</span>*numbers<span style="color: #AE81FF;">)</span>:
    <span style="color: #FD971F;">s</span> = <span style="color: #AE81FF;">0</span>
    <span style="color: #F92672;">for</span> n <span style="color: #F92672;">in</span> numbers:
        <span style="color: #FD971F;">s</span> += n
    <span style="color: #F92672;">return</span> s
mysum<span style="color: #AE81FF;">(</span><span style="color: #AE81FF;">1</span>, <span style="color: #AE81FF;">2</span><span style="color: #AE81FF;">)</span>
mysum<span style="color: #AE81FF;">(</span>*<span style="color: #66D9EF;">[</span><span style="color: #AE81FF;">1</span>, <span style="color: #AE81FF;">2</span><span style="color: #66D9EF;">]</span><span style="color: #AE81FF;">)</span>
mysum<span style="color: #AE81FF;">(</span>*<span style="color: #66D9EF;">(</span><span style="color: #AE81FF;">1</span>, <span style="color: #AE81FF;">2</span><span style="color: #66D9EF;">)</span><span style="color: #AE81FF;">)</span>  <span style="color: #75715E;"># </span><span style="color: #75715E;">&#21487;&#22312;list&#25110;tuple&#21069;&#36793;&#21152;*&#26469;&#23558;&#21487;&#21464;&#21442;&#25968;&#20256;&#36827;&#21435;</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline27" class="outline-4">
<h4 id="orgheadline27">关键字参数</h4>
<div class="outline-text-4" id="text-orgheadline27">
<p>
关键字参数可以将传入的含参数名的参数组装为一个dict，可能为空
</p>
<div class="org-src-container">

<pre class="src src-python"><span style="color: #F92672;">def</span> <span style="color: #A6E22E;">func</span><span style="color: #AE81FF;">(</span>a, b, c=<span style="color: #AE81FF;">0</span>, *args, **kw<span style="color: #AE81FF;">)</span>:  <span style="color: #75715E;"># </span><span style="color: #75715E;">args,kw&#26159;&#20064;&#24815;&#24615;&#29992;&#27861;</span>
    <span style="color: #F92672;">print</span> a, b, c, args, kw  

func<span style="color: #AE81FF;">(</span><span style="color: #AE81FF;">1</span>, <span style="color: #AE81FF;">2</span>, c=<span style="color: #AE81FF;">3</span><span style="color: #AE81FF;">)</span>  <span style="color: #75715E;"># </span><span style="color: #75715E;">a=1, b=2, c=3, args=(), kw={}</span>
func<span style="color: #AE81FF;">(</span><span style="color: #AE81FF;">1</span>, <span style="color: #AE81FF;">2</span>, <span style="color: #AE81FF;">3</span>, <span style="color: #E6DB74;">'a'</span>, x=<span style="color: #AE81FF;">5</span><span style="color: #AE81FF;">)</span>  <span style="color: #75715E;"># </span><span style="color: #75715E;">a=1, b=2, c=3, args=('a',), kw={'x': 5}</span>
func<span style="color: #AE81FF;">(</span>*<span style="color: #66D9EF;">(</span><span style="color: #AE81FF;">1</span>, <span style="color: #AE81FF;">2</span>, <span style="color: #AE81FF;">3</span>, <span style="color: #AE81FF;">4</span><span style="color: #66D9EF;">)</span>, **<span style="color: #66D9EF;">{</span><span style="color: #E6DB74;">'x'</span>: <span style="color: #AE81FF;">5</span><span style="color: #66D9EF;">}</span><span style="color: #AE81FF;">)</span> <span style="color: #75715E;"># </span><span style="color: #75715E;">a=1, b=2, c=3, args=(4,), kw={'x': 5}</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgheadline28" class="outline-3">
<h3 id="orgheadline28">递归函数</h3>
<div class="outline-text-3" id="text-orgheadline28">
<ul class="org-ul">
<li>使用递归函数要注意防止栈溢出，解决栈溢出的方式是通过尾递归优化，但Python的解释器并没有针对尾递归做优化，需要自行处理，即将尾递归转换为循环</li>
</ul>
<pre class="example">
尾递归是指函数返回的时候，调用自身本身，并且return不能包含表达式
</pre>
</div>
</div>

<div id="outline-container-orgheadline29" class="outline-3">
<h3 id="orgheadline29">函数名</h3>
<div class="outline-text-3" id="text-orgheadline29">
<ul class="org-ul">
<li>函数名其实就是指向函数对象的变量，可以把函数名赋给一个变量，相当于给这个函数起了“别名”</li>
</ul>
<div class="org-src-container">

<pre class="src src-python"><span style="color: #FD971F;">a</span> = <span style="color: #F92672;">abs</span> <span style="color: #75715E;">#</span><span style="color: #75715E;">&#21462;&#32477;&#23545;&#20540;&#30340;&#20869;&#32622;&#20989;&#25968;</span>
<span style="color: #F92672;">print</span> a<span style="color: #AE81FF;">(</span>-<span style="color: #AE81FF;">1</span><span style="color: #AE81FF;">)</span>
<span style="color: #75715E;"># </span><span style="color: #75715E;">abs&#20989;&#25968;&#23454;&#38469;&#19978;&#26159;&#23450;&#20041;&#22312; __builtin__ &#27169;&#22359;&#20013;</span>
</pre>
</div>
<ul class="org-ul">
<li>同样一个函数就可以接受另一个函数名作为参数，这种函数被称为高阶函数</li>
<li>函数对象有一个 <code>__name__</code> 属性，可以获得函数的名字</li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline34" class="outline-3">
<h3 id="orgheadline34">内建函数：</h3>
<div class="outline-text-3" id="text-orgheadline34">
</div><div id="outline-container-orgheadline30" class="outline-4">
<h4 id="orgheadline30">map</h4>
<div class="outline-text-4" id="text-orgheadline30">
<p>
<code>map()</code> 接受两个参数，一个接受一个参数的函数和一个任意序列（包括字符串），map将传入的函数依次作用到序列的每个元素，并把结果作为新的list返回
</p>
<div class="org-src-container">

<pre class="src src-python"><span style="color: #F92672;">def</span> <span style="color: #A6E22E;">f</span><span style="color: #AE81FF;">(</span>x<span style="color: #AE81FF;">)</span>:
    <span style="color: #F92672;">return</span> x * x

<span style="color: #F92672;">print</span> <span style="color: #F92672;">map</span><span style="color: #AE81FF;">(</span>f, <span style="color: #66D9EF;">[</span><span style="color: #AE81FF;">1</span>, <span style="color: #AE81FF;">2</span>, <span style="color: #AE81FF;">3</span>, <span style="color: #AE81FF;">4</span><span style="color: #66D9EF;">]</span><span style="color: #AE81FF;">)</span>  <span style="color: #75715E;"># </span><span style="color: #75715E;">[1, 4, 9, 16]</span>
<span style="color: #F92672;">print</span> <span style="color: #F92672;">map</span><span style="color: #AE81FF;">(</span><span style="color: #F92672;">str</span>, <span style="color: #66D9EF;">[</span><span style="color: #AE81FF;">1</span>, <span style="color: #AE81FF;">2</span>, <span style="color: #AE81FF;">3</span><span style="color: #66D9EF;">]</span><span style="color: #AE81FF;">)</span>  <span style="color: #75715E;"># </span><span style="color: #75715E;">['1', '2', '3']</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline31" class="outline-4">
<h4 id="orgheadline31">reduce</h4>
<div class="outline-text-4" id="text-orgheadline31">
<p>
<code>reduce()</code> 接受两个参数，一个接受两个参数的函数和一个任意序列，reduce会把结果继续和序列的下个一元素累计计算
</p>
<div class="org-src-container">

<pre class="src src-python"><span style="color: #F92672;">def</span> <span style="color: #A6E22E;">add</span><span style="color: #AE81FF;">(</span>x, y<span style="color: #AE81FF;">)</span>:
    <span style="color: #F92672;">return</span> x + y

<span style="color: #F92672;">print</span> <span style="color: #F92672;">reduce</span><span style="color: #AE81FF;">(</span>add, <span style="color: #66D9EF;">[</span><span style="color: #AE81FF;">1</span>, <span style="color: #AE81FF;">3</span>, <span style="color: #AE81FF;">5</span>, <span style="color: #AE81FF;">7</span><span style="color: #66D9EF;">]</span><span style="color: #AE81FF;">)</span>  <span style="color: #75715E;"># </span><span style="color: #75715E;">16, &#19981;&#36807;&#27714;&#21644;&#26377;&#20869;&#32622;&#30340; sum()</span>
<span style="color: #75715E;"># </span><span style="color: #75715E;">&#30456;&#24403;&#20110;</span>
<span style="color: #F92672;">print</span> add<span style="color: #AE81FF;">(</span>add<span style="color: #66D9EF;">(</span>add<span style="color: #A6E22E;">(</span><span style="color: #AE81FF;">1</span>, <span style="color: #AE81FF;">3</span><span style="color: #A6E22E;">)</span>, <span style="color: #AE81FF;">5</span><span style="color: #66D9EF;">)</span>, <span style="color: #AE81FF;">7</span><span style="color: #AE81FF;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline32" class="outline-4">
<h4 id="orgheadline32">filter</h4>
<div class="outline-text-4" id="text-orgheadline32">
<p>
<code>filter()</code> 接受两个参数，一个接受一个参数的函数和一个任意序列（包括字符串），filter将传入的函数依次作用到序列的每个元素，根据返回值是True还是False来决定是否保留该元素
</p>
<div class="org-src-container">

<pre class="src src-python"><span style="color: #F92672;">def</span> <span style="color: #A6E22E;">not_empty</span><span style="color: #AE81FF;">(</span>x<span style="color: #AE81FF;">)</span>:
    <span style="color: #F92672;">return</span> s <span style="color: #F92672;">and</span> s.strip<span style="color: #AE81FF;">()</span>   <span style="color: #75715E;"># </span><span style="color: #75715E;">&#21028;&#26029;&#26159;&#21542;&#20026;&#31354;&#23383;&#31526;&#20018;</span>

<span style="color: #F92672;">print</span> <span style="color: #F92672;">filter</span><span style="color: #AE81FF;">(</span>not_empty, <span style="color: #66D9EF;">[</span><span style="color: #E6DB74;">'A'</span>, <span style="color: #E6DB74;">''</span>, <span style="color: #AE81FF;">None</span>, <span style="color: #E6DB74;">' '</span>, <span style="color: #E6DB74;">'B'</span><span style="color: #66D9EF;">]</span><span style="color: #AE81FF;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline33" class="outline-4">
<h4 id="orgheadline33">sorted</h4>
<div class="outline-text-4" id="text-orgheadline33">
<p>
<code>sorted()</code> 对一个任意序列进行排序
</p>
<div class="org-src-container">

<pre class="src src-python"><span style="color: #F92672;">def</span> <span style="color: #A6E22E;">cmp_ignore_case</span><span style="color: #AE81FF;">(</span>s1, s2<span style="color: #AE81FF;">)</span>:
    <span style="color: #FD971F;">u1</span> = s1.upper<span style="color: #AE81FF;">()</span>
    <span style="color: #FD971F;">u2</span> = s2.upper<span style="color: #AE81FF;">()</span>
    <span style="color: #F92672;">if</span> u1 &lt; u2:
        <span style="color: #F92672;">return</span> -<span style="color: #AE81FF;">1</span>  <span style="color: #75715E;"># </span><span style="color: #75715E;">-1 &#34920;&#31034;&#21069;&#32773;&#23567;&#20110;&#21518;&#32773;</span>
    <span style="color: #F92672;">if</span> u1 &gt; u2:
        <span style="color: #F92672;">return</span> <span style="color: #AE81FF;">1</span>  <span style="color: #75715E;"># </span><span style="color: #75715E;">1 &#34920;&#31034;&#21069;&#32773;&#22823;&#20110;&#21518;&#32773;</span>
    <span style="color: #F92672;">return</span> <span style="color: #AE81FF;">0</span>   <span style="color: #75715E;"># </span><span style="color: #75715E;">0 &#34920;&#31034;&#21069;&#32773;&#31561;&#20110;&#21518;&#32773;</span>

sort<span style="color: #AE81FF;">(</span><span style="color: #66D9EF;">[</span><span style="color: #E6DB74;">'Abc'</span>, <span style="color: #E6DB74;">'bbc'</span>, <span style="color: #E6DB74;">'Ccc'</span><span style="color: #66D9EF;">]</span><span style="color: #AE81FF;">)</span>  <span style="color: #75715E;"># </span><span style="color: #75715E;">&#40664;&#35748;&#25353;&#29031;ASCII&#30340;&#22823;&#23567;&#27604;&#36739;&#65292;'Z' &lt; 'a'</span>
sort<span style="color: #AE81FF;">(</span><span style="color: #66D9EF;">[</span><span style="color: #E6DB74;">'Abc'</span>, <span style="color: #E6DB74;">'bbc'</span>, <span style="color: #E6DB74;">'Ccc'</span><span style="color: #66D9EF;">]</span>, cmp_ignore_case<span style="color: #AE81FF;">)</span>  <span style="color: #75715E;"># </span><span style="color: #75715E;">&#33258;&#23450;&#20041;&#27604;&#36739;&#26041;&#27861;</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgheadline35" class="outline-3">
<h3 id="orgheadline35">返回函数</h3>
<div class="outline-text-3" id="text-orgheadline35">
<ul class="org-ul">
<li>返回函数时，相关参数和变量都保存在返回的函数中，被称为“闭包”，是高阶函数</li>
<li>注意：返回函数不要引用任何循环变量或后续会发生变化的变量</li>
</ul>
<div class="org-src-container">

<pre class="src src-python"><span style="color: #F92672;">def</span> <span style="color: #A6E22E;">su</span><span style="color: #AE81FF;">()</span>:
    <span style="color: #FD971F;">fs</span> = <span style="color: #AE81FF;">[]</span>
    <span style="color: #F92672;">for</span> i <span style="color: #F92672;">in</span> <span style="color: #F92672;">range</span><span style="color: #AE81FF;">(</span><span style="color: #AE81FF;">1</span>, <span style="color: #AE81FF;">4</span><span style="color: #AE81FF;">)</span>:
        <span style="color: #F92672;">def</span> <span style="color: #A6E22E;">f</span><span style="color: #AE81FF;">()</span>:
            <span style="color: #F92672;">return</span> i * i  
        fs.append<span style="color: #AE81FF;">(</span>f<span style="color: #AE81FF;">)</span>
    <span style="color: #F92672;">return</span> fs
<span style="color: #FD971F;">f1</span>, <span style="color: #FD971F;">f2</span>, <span style="color: #FD971F;">f3</span> = su<span style="color: #AE81FF;">()</span>
<span style="color: #F92672;">print</span> f1<span style="color: #AE81FF;">()</span>, f2<span style="color: #AE81FF;">()</span>, f3<span style="color: #AE81FF;">()</span>  <span style="color: #75715E;"># </span><span style="color: #75715E;">9 9 9</span>
<span style="color: #75715E;"># </span><span style="color: #75715E;">&#35299;&#20915;&#26041;&#27861;&#65306;</span>
<span style="color: #F92672;">def</span> <span style="color: #A6E22E;">su</span><span style="color: #AE81FF;">()</span>:
    <span style="color: #FD971F;">fs</span> = <span style="color: #AE81FF;">[]</span>
    <span style="color: #F92672;">for</span> i <span style="color: #F92672;">in</span> <span style="color: #F92672;">range</span><span style="color: #AE81FF;">(</span><span style="color: #AE81FF;">1</span>, <span style="color: #AE81FF;">4</span><span style="color: #AE81FF;">)</span>:
        <span style="color: #F92672;">def</span> <span style="color: #A6E22E;">f</span><span style="color: #AE81FF;">(</span>j<span style="color: #AE81FF;">)</span>:   <span style="color: #75715E;"># </span><span style="color: #75715E;">&#20877;&#21019;&#24314;&#19968;&#20010;&#20989;&#25968;&#26469;&#32465;&#23450;&#24490;&#29615;&#21464;&#37327;&#24403;&#21069;&#30340;&#20540;</span>
            <span style="color: #F92672;">def</span> <span style="color: #A6E22E;">g</span><span style="color: #AE81FF;">()</span>:
                <span style="color: #F92672;">return</span> j * j  
            <span style="color: #F92672;">return</span> g
        fs.append<span style="color: #AE81FF;">(</span>f<span style="color: #66D9EF;">(</span>i<span style="color: #66D9EF;">)</span><span style="color: #AE81FF;">)</span>
    <span style="color: #F92672;">return</span> fs
<span style="color: #FD971F;">f1</span>, <span style="color: #FD971F;">f2</span>, <span style="color: #FD971F;">f3</span> = su<span style="color: #AE81FF;">()</span>
<span style="color: #F92672;">print</span> f1<span style="color: #AE81FF;">()</span>, f2<span style="color: #AE81FF;">()</span>, f3<span style="color: #AE81FF;">()</span>  <span style="color: #75715E;"># </span><span style="color: #75715E;">1 4 9</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline36" class="outline-3">
<h3 id="orgheadline36">匿名函数</h3>
<div class="outline-text-3" id="text-orgheadline36">
<ul class="org-ul">
<li>匿名函数只能有一个表达式</li>
</ul>
<div class="org-src-container">

<pre class="src src-python"><span style="color: #FD971F;">f</span> = <span style="color: #F92672;">lambda</span> x: x * x
<span style="color: #75715E;"># </span><span style="color: #75715E;">&#30456;&#24403;&#20110;&#65306;</span>
<span style="color: #F92672;">def</span> <span style="color: #A6E22E;">f</span><span style="color: #AE81FF;">(</span>x<span style="color: #AE81FF;">)</span>:
    <span style="color: #F92672;">return</span> x * x
</pre>
</div>
<ul class="org-ul">
<li>返回匿名函数：</li>
</ul>
<div class="org-src-container">

<pre class="src src-python"><span style="color: #F92672;">def</span> <span style="color: #A6E22E;">build</span><span style="color: #AE81FF;">(</span>x, y<span style="color: #AE81FF;">)</span>:
    <span style="color: #F92672;">return</span> <span style="color: #F92672;">lambda</span>: x * x + y * y
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline37" class="outline-3">
<h3 id="orgheadline37">装饰器</h3>
<div class="outline-text-3" id="text-orgheadline37">
<p>
装饰器Decorator可以在代码运行期间动态增加功能，本质是一个返回函数的高阶函数
</p>
<div class="org-src-container">

<pre class="src src-python"><span style="color: #F92672;">def</span> <span style="color: #A6E22E;">log</span><span style="color: #AE81FF;">(</span>func<span style="color: #AE81FF;">)</span>:
    <span style="color: #F92672;">def</span> <span style="color: #A6E22E;">wrapper</span><span style="color: #AE81FF;">(</span>*args, **kw<span style="color: #AE81FF;">)</span>:  <span style="color: #75715E;"># </span><span style="color: #75715E;">&#25509;&#25910;func&#30340;&#21442;&#25968;&#21518;&#36793;&#20877;&#20256;&#36882;&#32473;func</span>
        <span style="color: #F92672;">print</span> <span style="color: #E6DB74;">'call %s():'</span> % func.<span style="color: #F92672;">__name__</span>
        <span style="color: #F92672;">return</span> func<span style="color: #AE81FF;">(</span>*args, **kw<span style="color: #AE81FF;">)</span>  <span style="color: #75715E;"># </span><span style="color: #75715E;">&#35843;&#29992;func</span>
    <span style="color: #F92672;">return</span> wrapper

<span style="color: #66D9EF;">@log</span>   <span style="color: #75715E;"># </span><span style="color: #75715E;">&#30456;&#24403;&#20110;&#25191;&#34892;&#20102;&#35821;&#21477; a = log(a)</span>
<span style="color: #F92672;">def</span> <span style="color: #A6E22E;">a</span><span style="color: #AE81FF;">()</span>:
    <span style="color: #F92672;">print</span> <span style="color: #E6DB74;">'yes'</span>

<span style="color: #F92672;">print</span> a.<span style="color: #F92672;">__name__</span>  <span style="color: #75715E;"># </span><span style="color: #75715E;">wrapper&#65292;&#22240;&#20026; a = log(a)</span>
</pre>
</div>
<ul class="org-ul">
<li>如果decorator本身需要传入参数的话，那就需要编写一个返回decorator的高阶函数</li>
</ul>
<div class="org-src-container">

<pre class="src src-python"><span style="color: #F92672;">def</span> <span style="color: #A6E22E;">log</span><span style="color: #AE81FF;">(</span>text<span style="color: #AE81FF;">)</span>:
    <span style="color: #F92672;">def</span> <span style="color: #A6E22E;">decorator</span><span style="color: #AE81FF;">(</span>func<span style="color: #AE81FF;">)</span>:
        <span style="color: #F92672;">def</span> <span style="color: #A6E22E;">wrapper</span><span style="color: #AE81FF;">(</span>*args, **kw<span style="color: #AE81FF;">)</span>:  <span style="color: #75715E;"># </span><span style="color: #75715E;">&#25509;&#25910;func&#30340;&#21442;&#25968;&#21518;&#36793;&#20877;&#20256;&#36882;&#32473;func</span>
            <span style="color: #F92672;">print</span> <span style="color: #E6DB74;">'%s %s():'</span> % <span style="color: #AE81FF;">(</span>text, func.<span style="color: #F92672;">__name__</span><span style="color: #AE81FF;">)</span>
            <span style="color: #F92672;">return</span> func<span style="color: #AE81FF;">(</span>*args, **kw<span style="color: #AE81FF;">)</span>  <span style="color: #75715E;"># </span><span style="color: #75715E;">&#35843;&#29992;func</span>
        <span style="color: #F92672;">return</span> wrapper
    <span style="color: #F92672;">return</span> decorator

<span style="color: #66D9EF;">@log</span><span style="color: #AE81FF;">(</span><span style="color: #E6DB74;">'call'</span><span style="color: #AE81FF;">)</span>   <span style="color: #75715E;"># </span><span style="color: #75715E;">&#30456;&#24403;&#20110;&#25191;&#34892;&#20102;&#35821;&#21477; a = log('call')(a)</span>
<span style="color: #F92672;">def</span> <span style="color: #A6E22E;">a</span><span style="color: #AE81FF;">()</span>:
    <span style="color: #F92672;">print</span> <span style="color: #E6DB74;">'yes'</span>

<span style="color: #F92672;">print</span> a.<span style="color: #F92672;">__name__</span>  <span style="color: #75715E;"># </span><span style="color: #75715E;">&#20381;&#26087;&#20026;wrapper</span>
</pre>
</div>
<ul class="org-ul">
<li>如果要使 <code>__name__</code> 正常显示的话，需要使用 <code>functools.wraps</code></li>
</ul>
<div class="org-src-container">

<pre class="src src-python"><span style="color: #F92672;">import</span> functools

<span style="color: #F92672;">def</span> <span style="color: #A6E22E;">log</span><span style="color: #AE81FF;">(</span>func<span style="color: #AE81FF;">)</span>:
    <span style="color: #66D9EF;">@functools.wraps</span><span style="color: #AE81FF;">(</span>func<span style="color: #AE81FF;">)</span>
    <span style="color: #F92672;">def</span> <span style="color: #A6E22E;">wrapper</span><span style="color: #AE81FF;">(</span>*args, **kw<span style="color: #AE81FF;">)</span>:  <span style="color: #75715E;"># </span><span style="color: #75715E;">&#25509;&#25910;func&#30340;&#21442;&#25968;&#21518;&#36793;&#20877;&#20256;&#36882;&#32473;func</span>
        <span style="color: #F92672;">print</span> <span style="color: #E6DB74;">'call %s():'</span> % func.<span style="color: #F92672;">__name__</span>
        <span style="color: #F92672;">return</span> func<span style="color: #AE81FF;">(</span>*args, **kw<span style="color: #AE81FF;">)</span>  <span style="color: #75715E;"># </span><span style="color: #75715E;">&#35843;&#29992;func</span>
    <span style="color: #F92672;">return</span> wrapper
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline38" class="outline-3">
<h3 id="orgheadline38">偏函数</h3>
<div class="outline-text-3" id="text-orgheadline38">
<p>
<code>functools.partial</code> 的作用是把一个函数的某些参数值固定，并返回这个新函数
</p>
<div class="org-src-container">

<pre class="src src-python"><span style="color: #F92672;">def</span> <span style="color: #A6E22E;">test</span><span style="color: #AE81FF;">(</span>a, b, c<span style="color: #AE81FF;">)</span>:
    <span style="color: #F92672;">print</span> a, b, c

<span style="color: #FD971F;">test2</span> = functools.partial<span style="color: #AE81FF;">(</span>test, b=<span style="color: #AE81FF;">2</span><span style="color: #AE81FF;">)</span>
test2<span style="color: #AE81FF;">(</span><span style="color: #AE81FF;">1</span>, c=<span style="color: #AE81FF;">3</span><span style="color: #AE81FF;">)</span>  <span style="color: #75715E;"># </span><span style="color: #75715E;">b&#19981;&#33021;&#20877;&#27425;&#36171;&#20540;</span>
<span style="color: #FD971F;">test2</span> = functools.partial<span style="color: #AE81FF;">(</span>test, <span style="color: #AE81FF;">2</span><span style="color: #AE81FF;">)</span>  <span style="color: #75715E;"># </span><span style="color: #75715E;">&#30456;&#24403;&#20110;&#35774;&#32622; a=2</span>
test2<span style="color: #AE81FF;">(</span><span style="color: #AE81FF;">3</span>, <span style="color: #AE81FF;">4</span><span style="color: #AE81FF;">)</span>  <span style="color: #75715E;"># </span><span style="color: #75715E;">a=2, b=3, c=4</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgheadline48" class="outline-2">
<h2 id="orgheadline48"><span class="section-number-2">5</span> 高级特性</h2>
<div class="outline-text-2" id="text-5">
</div><div id="outline-container-orgheadline40" class="outline-3">
<h3 id="orgheadline40">切片</h3>
<div class="outline-text-3" id="text-orgheadline40">
<ul class="org-ul">
<li>切片可以取一个list、tuple或字符串的部分元素（结果的类型与原来相同）</li>
</ul>
<div class="org-src-container">

<pre class="src src-python"><span style="color: #FD971F;">L</span> = <span style="color: #AE81FF;">[</span><span style="color: #AE81FF;">0</span>,<span style="color: #AE81FF;">1</span>,<span style="color: #AE81FF;">2</span>,<span style="color: #AE81FF;">3</span>,<span style="color: #AE81FF;">4</span>,<span style="color: #AE81FF;">5</span>,<span style="color: #AE81FF;">6</span>,<span style="color: #AE81FF;">7</span>,<span style="color: #AE81FF;">8</span>,<span style="color: #AE81FF;">9</span><span style="color: #AE81FF;">]</span>
L<span style="color: #AE81FF;">[</span><span style="color: #AE81FF;">1</span>:<span style="color: #AE81FF;">3</span><span style="color: #AE81FF;">]</span>  <span style="color: #75715E;"># </span><span style="color: #75715E;">[1,2]</span>
L<span style="color: #AE81FF;">[</span>:<span style="color: #AE81FF;">3</span><span style="color: #AE81FF;">]</span>  <span style="color: #75715E;"># </span><span style="color: #75715E;">[0,1,2]</span>
L<span style="color: #AE81FF;">[</span><span style="color: #AE81FF;">7</span>:<span style="color: #AE81FF;">]</span>  <span style="color: #75715E;"># </span><span style="color: #75715E;">[7,8,9]</span>
L<span style="color: #AE81FF;">[</span>-<span style="color: #AE81FF;">2</span>:<span style="color: #AE81FF;">]</span>  <span style="color: #75715E;"># </span><span style="color: #75715E;">[8,9]</span>
L<span style="color: #AE81FF;">[</span>-<span style="color: #AE81FF;">2</span>:-<span style="color: #AE81FF;">1</span><span style="color: #AE81FF;">]</span>  <span style="color: #75715E;"># </span><span style="color: #75715E;">[8]</span>
L<span style="color: #AE81FF;">[</span>-<span style="color: #AE81FF;">1</span>:-<span style="color: #AE81FF;">2</span><span style="color: #AE81FF;">]</span>  <span style="color: #75715E;"># </span><span style="color: #75715E;">[]</span>
L<span style="color: #AE81FF;">[</span><span style="color: #AE81FF;">1</span>:<span style="color: #AE81FF;">5</span>:<span style="color: #AE81FF;">2</span><span style="color: #AE81FF;">]</span>  <span style="color: #75715E;"># </span><span style="color: #75715E;">[1,3] &#22312;&#36825;4&#20010;&#25968;&#20013;&#65292;&#27599;2&#20010;&#21462;1&#20010;</span>
L<span style="color: #AE81FF;">[</span>::<span style="color: #AE81FF;">3</span><span style="color: #AE81FF;">]</span>  <span style="color: #75715E;"># </span><span style="color: #75715E;">[0,3,6,9]</span>
L<span style="color: #AE81FF;">[</span>:<span style="color: #AE81FF;">]</span>  <span style="color: #75715E;"># </span><span style="color: #75715E;">[0,1,2,3,4,5,6,7,8,9]</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline41" class="outline-3">
<h3 id="orgheadline41">迭代</h3>
<div class="outline-text-3" id="text-orgheadline41">
<ul class="org-ul">
<li>可以使用collections模块的Iterable类型来判断一个对象是否是可迭代对象</li>
</ul>
<div class="org-src-container">

<pre class="src src-python"><span style="color: #F92672;">from</span> collections <span style="color: #F92672;">import</span> Iterable
<span style="color: #F92672;">if</span> <span style="color: #F92672;">isinstance</span><span style="color: #AE81FF;">(</span><span style="color: #E6DB74;">'abc'</span>, Iterable<span style="color: #AE81FF;">)</span>:
    <span style="color: #F92672;">for</span> ch <span style="color: #F92672;">in</span> <span style="color: #E6DB74;">'abc'</span>:
        <span style="color: #F92672;">print</span> ch
</pre>
</div>
</div>
<div id="outline-container-orgheadline42" class="outline-4">
<h4 id="orgheadline42">多变量的迭代</h4>
<div class="outline-text-4" id="text-orgheadline42">
<div class="org-src-container">

<pre class="src src-python"><span style="color: #F92672;">for</span> x, y <span style="color: #F92672;">in</span> <span style="color: #AE81FF;">[</span><span style="color: #66D9EF;">(</span><span style="color: #AE81FF;">1</span>,<span style="color: #AE81FF;">1</span><span style="color: #66D9EF;">)</span>, <span style="color: #66D9EF;">(</span><span style="color: #AE81FF;">2</span>,<span style="color: #AE81FF;">2</span><span style="color: #66D9EF;">)</span>, <span style="color: #66D9EF;">(</span><span style="color: #AE81FF;">3</span>,<span style="color: #AE81FF;">3</span><span style="color: #66D9EF;">)</span><span style="color: #AE81FF;">]</span>:
    <span style="color: #F92672;">print</span> x, y
</pre>
</div>
</div>
</div>
<div id="outline-container-orgheadline43" class="outline-4">
<h4 id="orgheadline43">dict的迭代</h4>
<div class="outline-text-4" id="text-orgheadline43">
<div class="org-src-container">

<pre class="src src-python"><span style="color: #FD971F;">d</span> = <span style="color: #AE81FF;">{</span><span style="color: #E6DB74;">'first'</span>: <span style="color: #AE81FF;">1</span>, <span style="color: #E6DB74;">'second'</span>: <span style="color: #AE81FF;">2</span><span style="color: #AE81FF;">}</span>  <span style="color: #75715E;"># </span><span style="color: #75715E;">&#20445;&#23384;&#39034;&#24207;&#19981;&#33021;&#20445;&#35777;</span>
<span style="color: #F92672;">for</span> key <span style="color: #F92672;">in</span> d:  <span style="color: #75715E;"># </span><span style="color: #75715E;">&#40664;&#35748;&#36845;&#20195;&#30340;&#26159;key</span>
    <span style="color: #F92672;">print</span> key
<span style="color: #F92672;">for</span> value <span style="color: #F92672;">in</span> d.itervalues<span style="color: #AE81FF;">()</span>:  <span style="color: #75715E;"># </span><span style="color: #75715E;">&#36845;&#20195;value</span>
    <span style="color: #F92672;">print</span> value
<span style="color: #F92672;">for</span> k, v <span style="color: #F92672;">in</span> d.iteritems<span style="color: #AE81FF;">()</span>:   <span style="color: #75715E;"># </span><span style="color: #75715E;">&#21516;&#26102;&#36845;&#20195;key&#21644;value</span>
    <span style="color: #F92672;">print</span> k, v
</pre>
</div>
</div>
</div>
<div id="outline-container-orgheadline44" class="outline-4">
<h4 id="orgheadline44">字符串的迭代</h4>
<div class="outline-text-4" id="text-orgheadline44">
<div class="org-src-container">

<pre class="src src-python"><span style="color: #F92672;">for</span> ch <span style="color: #F92672;">in</span> <span style="color: #E6DB74;">'ABC'</span>:   <span style="color: #75715E;"># </span><span style="color: #75715E;">&#23383;&#31526;&#20018;&#20063;&#26159;&#21487;&#36845;&#20195;&#23545;&#35937;</span>
    <span style="color: #F92672;">print</span> ch
</pre>
</div>
</div>
</div>
<div id="outline-container-orgheadline45" class="outline-4">
<h4 id="orgheadline45">list的下标循环</h4>
<div class="outline-text-4" id="text-orgheadline45">
<div class="org-src-container">

<pre class="src src-python"><span style="color: #F92672;">for</span> i, value <span style="color: #F92672;">in</span> <span style="color: #F92672;">enumerate</span><span style="color: #AE81FF;">(</span><span style="color: #66D9EF;">[</span><span style="color: #E6DB74;">'a'</span>, <span style="color: #E6DB74;">'b'</span>, <span style="color: #E6DB74;">'c'</span><span style="color: #66D9EF;">]</span><span style="color: #AE81FF;">)</span>: <span style="color: #75715E;"># </span><span style="color: #75715E;">&#33021;&#22815;&#25226;&#19968;&#20010;list&#21464;&#25104;&#32034;&#24341;-&#20803;&#32032;&#23545;</span>
    <span style="color: #F92672;">print</span> i, value
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgheadline46" class="outline-3">
<h3 id="orgheadline46">列表生成式</h3>
<div class="outline-text-3" id="text-orgheadline46">
<ul class="org-ul">
<li>列表生成式直接生成一个list，但会占用比较大的内存</li>
</ul>


<dl class="org-dl">
<dt>生成平方list</dt><dd></dd>
</dl>
<div class="org-src-container">

<pre class="src src-python"><span style="color: #AE81FF;">[</span>x * x <span style="color: #F92672;">for</span> x <span style="color: #F92672;">in</span> <span style="color: #F92672;">range</span><span style="color: #66D9EF;">(</span><span style="color: #AE81FF;">1</span>, <span style="color: #AE81FF;">5</span><span style="color: #66D9EF;">)</span><span style="color: #AE81FF;">]</span>  <span style="color: #75715E;"># </span><span style="color: #75715E;">[1, 4, 9, 16]</span>
<span style="color: #75715E;"># </span><span style="color: #75715E;">&#30456;&#24403;&#20110;</span>
<span style="color: #FD971F;">L</span> = <span style="color: #AE81FF;">[]</span>
<span style="color: #F92672;">for</span> x <span style="color: #F92672;">in</span> <span style="color: #F92672;">range</span><span style="color: #AE81FF;">(</span><span style="color: #AE81FF;">1</span>, <span style="color: #AE81FF;">5</span><span style="color: #AE81FF;">)</span>:
    L.append<span style="color: #AE81FF;">(</span>x * x<span style="color: #AE81FF;">)</span>
</pre>
</div>
<dl class="org-dl">
<dt>特殊用法</dt><dd></dd>
</dl>
<div class="org-src-container">

<pre class="src src-python"><span style="color: #75715E;">#</span><span style="color: #75715E;">&#20351;&#29992;&#21028;&#26029;</span>
<span style="color: #AE81FF;">[</span>x * x <span style="color: #F92672;">for</span> x <span style="color: #F92672;">in</span> <span style="color: #F92672;">range</span><span style="color: #66D9EF;">(</span><span style="color: #AE81FF;">1</span>, <span style="color: #AE81FF;">5</span><span style="color: #66D9EF;">)</span> <span style="color: #F92672;">if</span> x % <span style="color: #AE81FF;">2</span> == <span style="color: #AE81FF;">0</span><span style="color: #AE81FF;">]</span>  <span style="color: #75715E;"># </span><span style="color: #75715E;">[4, 16]</span>
<span style="color: #75715E;">#</span><span style="color: #75715E;">&#22810;&#23618;&#24490;&#29615;</span>
<span style="color: #AE81FF;">[</span>m + n <span style="color: #F92672;">for</span> m <span style="color: #F92672;">in</span> <span style="color: #E6DB74;">'AB'</span> <span style="color: #F92672;">for</span> n <span style="color: #F92672;">in</span> <span style="color: #E6DB74;">'ab'</span><span style="color: #AE81FF;">]</span>  <span style="color: #75715E;"># </span><span style="color: #75715E;">['Aa', 'Ab', 'Ba', 'Bb']</span>
<span style="color: #75715E;">#</span><span style="color: #75715E;">&#22810;&#21464;&#37327;</span>
<span style="color: #AE81FF;">[</span>k + v <span style="color: #F92672;">for</span> k, v <span style="color: #F92672;">in</span> <span style="color: #66D9EF;">[</span><span style="color: #A6E22E;">(</span><span style="color: #AE81FF;">1</span>,<span style="color: #AE81FF;">1</span><span style="color: #A6E22E;">)</span>, <span style="color: #A6E22E;">(</span><span style="color: #AE81FF;">2</span>,<span style="color: #AE81FF;">2</span><span style="color: #A6E22E;">)</span><span style="color: #66D9EF;">]</span><span style="color: #AE81FF;">]</span>  <span style="color: #75715E;"># </span><span style="color: #75715E;">[2, 4]</span>
</pre>
</div>
<dl class="org-dl">
<dt>三元运算符</dt><dd><ul class="org-ul">
<li>若想让结果是一个元素则可以不加 <code>[]</code></li>
</ul></dd>
</dl>
<div class="org-src-container">

<pre class="src src-sh"><span style="color: #FD971F;">i</span> = <span style="color: #AE81FF;">3</span>
<span style="color: #FD971F;">i</span> = i if i &gt; <span style="color: #AE81FF;">4</span> else <span style="color: #AE81FF;">5</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline47" class="outline-3">
<h3 id="orgheadline47">生成器generator</h3>
<div class="outline-text-3" id="text-orgheadline47">
<ul class="org-ul">
<li>相对与列表生成式直接生成一个list，是generator保存的是生成值的方法，每次调用会生成一个元素</li>
</ul>
<div class="org-src-container">

<pre class="src src-python"><span style="color: #FD971F;">g</span> = <span style="color: #AE81FF;">(</span>x * x <span style="color: #F92672;">for</span> x <span style="color: #F92672;">in</span> <span style="color: #F92672;">range</span><span style="color: #66D9EF;">(</span><span style="color: #AE81FF;">10</span><span style="color: #66D9EF;">)</span><span style="color: #AE81FF;">)</span>  <span style="color: #75715E;"># </span><span style="color: #75715E;">geneator&#30340;&#20869;&#23481;&#21487;&#20197;&#21644;&#21015;&#34920;&#29983;&#25104;&#24335;&#19968;&#26679;</span>
<span style="color: #F92672;">print</span> g.<span style="color: #F92672;">next</span><span style="color: #AE81FF;">()</span>  <span style="color: #75715E;"># </span><span style="color: #75715E;">0</span>
<span style="color: #F92672;">print</span> g.<span style="color: #F92672;">next</span><span style="color: #AE81FF;">()</span>  <span style="color: #75715E;"># </span><span style="color: #75715E;">1</span>
<span style="color: #F92672;">print</span> g.<span style="color: #F92672;">next</span><span style="color: #AE81FF;">()</span>  <span style="color: #75715E;"># </span><span style="color: #75715E;">next()&#20989;&#25968;&#27604;&#36739;&#23569;&#29992;&#65292;&#19968;&#33324;&#37117;&#26159;&#20351;&#29992;for&#24490;&#29615;</span>

<span style="color: #F92672;">for</span> n <span style="color: #F92672;">in</span> g:
    <span style="color: #F92672;">print</span> n
</pre>
</div>
<dl class="org-dl">
<dt>将函数转变为生成器</dt><dd></dd>
</dl>
<div class="org-src-container">

<pre class="src src-python"><span style="color: #F92672;">def</span> <span style="color: #A6E22E;">ran</span><span style="color: #AE81FF;">(</span><span style="color: #F92672;">max</span><span style="color: #AE81FF;">)</span>:
    <span style="color: #FD971F;">n</span> = <span style="color: #AE81FF;">0</span>
    <span style="color: #F92672;">while</span> n &lt; <span style="color: #F92672;">max</span>:
        <span style="color: #F92672;">yield</span> n   <span style="color: #75715E;"># </span><span style="color: #75715E;">&#27599;&#24403;&#20989;&#25968;&#36816;&#34892;&#21040;&#36825;&#37324;&#20250;&#26242;&#20572;&#24182;&#36820;&#22238;n&#30340;&#20540;</span>
        <span style="color: #FD971F;">n</span> += <span style="color: #AE81FF;">1</span>
<span style="color: #FD971F;">o</span> = ran<span style="color: #AE81FF;">(</span><span style="color: #AE81FF;">5</span><span style="color: #AE81FF;">)</span>  <span style="color: #75715E;"># </span><span style="color: #75715E;">ran(5)&#20250;&#36820;&#22238;&#19968;&#20010;&#29983;&#25104;&#22120;</span>
<span style="color: #F92672;">print</span> o.<span style="color: #F92672;">next</span><span style="color: #AE81FF;">()</span> <span style="color: #75715E;"># </span><span style="color: #75715E;">0</span>
<span style="color: #F92672;">print</span> o.<span style="color: #F92672;">next</span><span style="color: #AE81FF;">()</span> <span style="color: #75715E;"># </span><span style="color: #75715E;">1</span>

<span style="color: #F92672;">for</span> n <span style="color: #F92672;">in</span> ran<span style="color: #AE81FF;">(</span><span style="color: #AE81FF;">6</span><span style="color: #AE81FF;">)</span>:
    <span style="color: #F92672;">print</span> n
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgheadline54" class="outline-2">
<h2 id="orgheadline54"><span class="section-number-2">6</span> 模块</h2>
<div class="outline-text-2" id="text-6">
</div><div id="outline-container-orgheadline49" class="outline-3">
<h3 id="orgheadline49">模块与包</h3>
<div class="outline-text-3" id="text-orgheadline49">
<ul class="org-ul">
<li>在Python中，一个.py文件就称之为一个模块（Module）</li>
<li>相同名字的函数和变量完全可以分别存在不同的模块中</li>
<li>为了避免模块名冲突，Python中还有按照目录来组织模块的方法，称为包（Package）</li>
<li>每个包目录下都会有一个 <code>__init__.py</code> 文件，可以是空文件，这个文件的模块名就是包名</li>
<li>可以有多级目录来组成多级层次的包结构，包名之间用 <code>.</code> 来连接</li>
<li>安装第三方模块可以用 <code>pip</code> 来安装</li>
</ul>
</div>
</div>
<div id="outline-container-orgheadline50" class="outline-3">
<h3 id="orgheadline50">使用模块</h3>
<div class="outline-text-3" id="text-orgheadline50">
<div class="org-src-container">

<pre class="src src-python"><span style="color: #E6DB74;">'a test module'</span>  <span style="color: #75715E;"># </span><span style="color: #75715E;">&#20219;&#20309;&#27169;&#22359;&#20195;&#30721;&#30340;&#31532;&#19968;&#20010;&#23383;&#31526;&#20018;&#37117;&#34987;&#35270;&#20026;&#27169;&#22359;&#30340;&#25991;&#26723;&#27880;&#37322;</span>

<span style="color: #FD971F;">__author__</span> = <span style="color: #E6DB74;">'Qiump'</span>  <span style="color: #75715E;"># </span><span style="color: #75715E;">&#27169;&#22359;&#30340;&#20316;&#32773;</span>

<span style="color: #F92672;">import</span> sys
<span style="color: #F92672;">print</span> sys.argv  <span style="color: #75715E;"># </span><span style="color: #75715E;">&#35813;&#21464;&#37327;&#29992;list&#23384;&#20648;&#20102;&#21629;&#20196;&#34892;&#30340;&#25152;&#26377;&#21442;&#25968;&#65292;&#31532;&#19968;&#20010;&#21442;&#25968;&#26159;&#25991;&#20214;&#21517;</span>

<span style="color: #F92672;">if</span> <span style="color: #F92672;">__name__</span> == <span style="color: #E6DB74;">'__main__'</span>:  <span style="color: #75715E;"># </span><span style="color: #75715E;">&#24403;&#30452;&#25509;&#36816;&#34892;&#35813;&#27169;&#22359;&#26102;&#65292;__name__&#20250;&#26159;__main__&#65292;&#21487;&#29992;&#20110;&#36816;&#34892;&#27979;&#35797;</span>
    test<span style="color: #AE81FF;">()</span>
</pre>
</div>
<ul class="org-ul">
<li>当加载一个模块时，Python默认会搜索当前目录、所有已安装的内置模块和第三方模块，搜索路径存放在 <code>sys</code> 模块中的 <code>path</code> 变量中</li>
<li>如果要添加自己的搜索目录</li>
</ul>
<div class="org-src-container">

<pre class="src src-python"><span style="color: #F92672;">import</span> sys
sys.path.append<span style="color: #AE81FF;">(</span><span style="color: #E6DB74;">'...'</span><span style="color: #AE81FF;">)</span>   <span style="color: #75715E;"># </span><span style="color: #75715E;">&#30452;&#25509;&#20462;&#25913;path</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgheadline51" class="outline-3">
<h3 id="orgheadline51">模块的别名</h3>
<div class="outline-text-3" id="text-orgheadline51">
<div class="org-src-container">

<pre class="src src-python"><span style="color: #F92672;">try</span>: 
    <span style="color: #F92672;">import</span> cStringIO <span style="color: #F92672;">as</span> StringIO    <span style="color: #75715E;"># </span><span style="color: #75715E;">cStringIO&#21644;StringIO&#30340;&#21151;&#33021;&#19968;&#26679;&#65292;&#20294;cStringIO&#30340;&#36895;&#24230;&#26356;&#24555;</span>
<span style="color: #F92672;">except</span> <span style="color: #66D9EF;">ImportError</span>:    <span style="color: #75715E;"># </span><span style="color: #75715E;">&#24403;&#23548;&#20837;&#22833;&#36133;&#20250;&#25429;&#33719;&#21040;ImportError</span>
    <span style="color: #F92672;">import</span> StringIO
</pre>
</div>
</div>
</div>
<div id="outline-container-orgheadline52" class="outline-3">
<h3 id="orgheadline52">作用域</h3>
<div class="outline-text-3" id="text-orgheadline52">
<ul class="org-ul">
<li>在Python模块中，以 <code>_</code> 开头的函数或变量是private，不应该被直接引用（但无法禁止）</li>
<li>外部不需要引用的函数全部定义成private，只有外部需要引用的函数才定义为public</li>
</ul>
</div>
</div>
<div id="outline-container-orgheadline53" class="outline-3">
<h3 id="orgheadline53">使用__future__</h3>
<div class="outline-text-3" id="text-orgheadline53">
<ul class="org-ul">
<li>使用 <code>__future__</code> 模块可以暂时使用新版本的某个功能，以便于移植</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgheadline66" class="outline-2">
<h2 id="orgheadline66"><span class="section-number-2">7</span> 面向对象编程</h2>
<div class="outline-text-2" id="text-7">
<ul class="org-ul">
<li>面向对象的抽象程度比函数要高，因为一个Class即包含数据，又包含操作数据的方法</li>
</ul>
</div>

<div id="outline-container-orgheadline55" class="outline-3">
<h3 id="orgheadline55">类与实例</h3>
<div class="outline-text-3" id="text-orgheadline55">
<ul class="org-ul">
<li>面向对象的设计思想是抽象出Class，根据Class创建Instance</li>
</ul>
<div class="org-src-container">

<pre class="src src-python"><span style="color: #F92672;">class</span> <span style="color: #66D9EF;">Student</span><span style="color: #AE81FF;">(</span><span style="color: #F92672;">object</span><span style="color: #AE81FF;">)</span>:  <span style="color: #75715E;"># </span><span style="color: #75715E;">&#23450;&#20041;&#31867;</span>
    <span style="color: #F92672;">pass</span>

<span style="color: #FD971F;">bart</span> = Student<span style="color: #AE81FF;">()</span>  <span style="color: #75715E;"># </span><span style="color: #75715E;">&#21019;&#24314;&#23454;&#20363;</span>
<span style="color: #FD971F;">bart.name</span> = <span style="color: #E6DB74;">'no'</span>  <span style="color: #75715E;"># </span><span style="color: #75715E;">&#21487;&#20197;&#33258;&#30001;&#22320;&#32473;&#19968;&#20010;&#23454;&#20363;&#32465;&#23450;&#23646;&#24615;</span>
</pre>
</div>
<ul class="org-ul">
<li>类的初始化</li>
</ul>
<div class="org-src-container">

<pre class="src src-python"><span style="color: #F92672;">class</span> <span style="color: #66D9EF;">Student</span><span style="color: #AE81FF;">(</span><span style="color: #F92672;">object</span><span style="color: #AE81FF;">)</span>:
    <span style="color: #F92672;">def</span> <span style="color: #A6E22E;">__init__</span><span style="color: #AE81FF;">(</span><span style="color: #F92672;">self</span>, name, score<span style="color: #AE81FF;">)</span>:  <span style="color: #75715E;"># </span><span style="color: #75715E;">&#21019;&#24314;&#23454;&#20363;&#30340;&#26102;&#20505;&#36816;&#34892;&#30340;&#26500;&#24314;&#20989;&#25968;</span>
        <span style="color: #F92672;">self</span>.name = name  <span style="color: #75715E;"># </span><span style="color: #75715E;">&#32465;&#23450;&#23646;&#24615;</span>
        <span style="color: #F92672;">self</span>.score = score
        <span style="color: #F92672;">self</span>.__name = yes  <span style="color: #75715E;"># </span><span style="color: #75715E;">&#31169;&#26377;&#21464;&#37327;</span>

    <span style="color: #F92672;">def</span> <span style="color: #A6E22E;">get_grade</span><span style="color: #AE81FF;">(</span><span style="color: #F92672;">self</span><span style="color: #AE81FF;">)</span>:  <span style="color: #75715E;"># </span><span style="color: #75715E;">&#21019;&#24314;&#31867;&#30340;&#26041;&#27861;, &#31532;&#19968;&#20010;&#21442;&#25968;&#24517;&#39035;&#20026;self</span>
        <span style="color: #F92672;">return</span> <span style="color: #F92672;">self</span>.score

<span style="color: #FD971F;">qiump</span> = Student<span style="color: #AE81FF;">(</span>qiump, <span style="color: #AE81FF;">89</span><span style="color: #AE81FF;">)</span>  <span style="color: #75715E;"># </span><span style="color: #75715E;">&#21442;&#25968;&#23545;&#24212;&#20110;init&#20013;&#30340;&#21442;&#25968;</span>
</pre>
</div>

<ul class="org-ul">
<li><p>
私有变量
</p>
<ul class="org-ul">
<li>私有变量是以 <code>__</code> 为开头的变量，只有内部可以访问</li>
<li>而 <code>__xxx__</code> 是特殊变量，并不是私有变量</li>
</ul>
<div class="org-src-container">

<pre class="src src-python"><span style="color: #F92672;">len</span><span style="color: #AE81FF;">(</span><span style="color: #E6DB74;">'ABC'</span><span style="color: #AE81FF;">)</span>  <span style="color: #75715E;"># </span><span style="color: #75715E;">&#20869;&#32622;&#30340;len&#26041;&#27861;&#20854;&#23454;&#26159;&#30452;&#25509;&#35843;&#29992;__len__&#20989;&#25968;</span>
<span style="color: #E6DB74;">'ABC'</span>.__len__<span style="color: #AE81FF;">()</span>  <span style="color: #75715E;"># </span><span style="color: #75715E;">&#21487;&#20197;&#33258;&#23450;&#20041;__len__&#26041;&#27861;</span>
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline58" class="outline-3">
<h3 id="orgheadline58">继承和多态</h3>
<div class="outline-text-3" id="text-orgheadline58">
</div><div id="outline-container-orgheadline56" class="outline-4">
<h4 id="orgheadline56">继承</h4>
<div class="outline-text-4" id="text-orgheadline56">
<div class="org-src-container">

<pre class="src src-python"><span style="color: #F92672;">class</span> <span style="color: #66D9EF;">Animal</span><span style="color: #AE81FF;">(</span><span style="color: #F92672;">object</span><span style="color: #AE81FF;">)</span>:
    <span style="color: #F92672;">def</span> <span style="color: #A6E22E;">run</span><span style="color: #AE81FF;">(</span><span style="color: #F92672;">self</span><span style="color: #AE81FF;">)</span>:
        <span style="color: #F92672;">print</span> <span style="color: #E6DB74;">'Animal'</span>


<span style="color: #F92672;">class</span> <span style="color: #66D9EF;">Dog</span><span style="color: #AE81FF;">(</span>Animal<span style="color: #AE81FF;">)</span>:  <span style="color: #75715E;"># </span><span style="color: #75715E;">&#23376;&#31867;&#25317;&#26377;&#29238;&#31867;&#30340;run&#26041;&#27861;</span>
    <span style="color: #F92672;">pass</span>


<span style="color: #F92672;">class</span> <span style="color: #66D9EF;">Cat</span><span style="color: #AE81FF;">(</span>Animal<span style="color: #AE81FF;">)</span>:
    <span style="color: #F92672;">def</span> <span style="color: #A6E22E;">run</span><span style="color: #AE81FF;">(</span><span style="color: #F92672;">self</span><span style="color: #AE81FF;">)</span>:  <span style="color: #75715E;"># </span><span style="color: #75715E;">&#23376;&#31867;&#30340;&#26041;&#27861;&#20250;&#35206;&#30422;&#29238;&#31867;&#30340;&#21516;&#21517;&#26041;&#27861;</span>
        <span style="color: #F92672;">print</span> <span style="color: #E6DB74;">'cat'</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgheadline57" class="outline-4">
<h4 id="orgheadline57">多态</h4>
<div class="outline-text-4" id="text-orgheadline57">
<ul class="org-ul">
<li>子类可以赋予给一个父类的对象</li>
</ul>
<div class="org-src-container">

<pre class="src src-python"><span style="color: #FD971F;">a</span> = Dog<span style="color: #AE81FF;">()</span>
<span style="color: #F92672;">print</span> <span style="color: #F92672;">isinstance</span><span style="color: #AE81FF;">(</span>a, Animal<span style="color: #AE81FF;">)</span>  <span style="color: #75715E;"># </span><span style="color: #75715E;">a&#21516;&#26102;&#26159;Dog&#31867;&#20063;&#26159;Animal&#31867;</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgheadline62" class="outline-3">
<h3 id="orgheadline62">获取对象信息</h3>
<div class="outline-text-3" id="text-orgheadline62">
</div><div id="outline-container-orgheadline59" class="outline-4">
<h4 id="orgheadline59">type()</h4>
<div class="outline-text-4" id="text-orgheadline59">
<ul class="org-ul">
<li><code>type()</code> 函数可以用来判断对象类型</li>
<li>type所返回的类型是type类型</li>
</ul>
<div class="org-src-container">

<pre class="src src-python"><span style="color: #F92672;">import</span> types

<span style="color: #F92672;">type</span><span style="color: #AE81FF;">(</span><span style="color: #E6DB74;">'abc'</span><span style="color: #AE81FF;">)</span> == types.StringType
<span style="color: #F92672;">type</span><span style="color: #AE81FF;">(</span>u<span style="color: #E6DB74;">'abc'</span><span style="color: #AE81FF;">)</span> == types.UnicodeType
<span style="color: #F92672;">type</span><span style="color: #AE81FF;">(</span><span style="color: #66D9EF;">[]</span><span style="color: #AE81FF;">)</span> == types.ListType
<span style="color: #F92672;">type</span><span style="color: #AE81FF;">(</span><span style="color: #F92672;">str</span><span style="color: #AE81FF;">)</span> == types.TypeType  <span style="color: #75715E;"># </span><span style="color: #75715E;">&#25152;&#26377;&#31867;&#22411;&#30340;&#26412;&#36523;&#23601;&#26159;TypeType</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgheadline60" class="outline-4">
<h4 id="orgheadline60">isinstance()</h4>
<div class="outline-text-4" id="text-orgheadline60">
<ul class="org-ul">
<li>方便判断class的类型，子类的类型是父类的类型</li>
</ul>
<div class="org-src-container">

<pre class="src src-python"><span style="color: #F92672;">isinstance</span><span style="color: #AE81FF;">(</span>u<span style="color: #E6DB74;">'a'</span>, <span style="color: #F92672;">unicode</span><span style="color: #AE81FF;">)</span>
<span style="color: #F92672;">isinstance</span><span style="color: #AE81FF;">(</span>u<span style="color: #E6DB74;">'a'</span>, <span style="color: #66D9EF;">(</span><span style="color: #F92672;">str</span>, <span style="color: #F92672;">unicode</span><span style="color: #66D9EF;">)</span><span style="color: #AE81FF;">)</span>  <span style="color: #75715E;"># </span><span style="color: #75715E;">&#21487;&#20197;&#21028;&#26029;&#19968;&#20010;&#21464;&#37327;&#26159;&#19981;&#26159;&#20854;&#20013;&#19968;&#31181;</span>
<span style="color: #F92672;">isinstance</span><span style="color: #AE81FF;">(</span>u<span style="color: #E6DB74;">'a'</span>, <span style="color: #F92672;">basestring</span><span style="color: #AE81FF;">)</span>  <span style="color: #75715E;"># </span><span style="color: #75715E;">str&#21644;unicode&#37117;&#26159;&#20174;basestring&#32487;&#25215;&#19979;&#26469;&#30340;</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgheadline61" class="outline-4">
<h4 id="orgheadline61">dir()与hasattr()</h4>
<div class="outline-text-4" id="text-orgheadline61">
<ul class="org-ul">
<li>dir()用于获得一个对象的所有属性和方法，返回一个包含字符串的list</li>
<li>hasattr()用于判断一个对象是否含有指定属性</li>
</ul>
<div class="org-src-container">

<pre class="src src-python"><span style="color: #F92672;">hasattr</span><span style="color: #AE81FF;">(</span>obj, <span style="color: #E6DB74;">'x'</span><span style="color: #AE81FF;">)</span>  <span style="color: #75715E;"># </span><span style="color: #75715E;">&#26816;&#27979;obj&#26159;&#21542;&#26377;&#23646;&#24615;&#25110;&#26041;&#27861;'x'</span>
<span style="color: #F92672;">setattr</span><span style="color: #AE81FF;">(</span>obj, <span style="color: #E6DB74;">'y'</span>, <span style="color: #AE81FF;">19</span><span style="color: #AE81FF;">)</span>  <span style="color: #75715E;"># </span><span style="color: #75715E;">&#30456;&#24403;&#20110;obj.y=19</span>
<span style="color: #F92672;">getattr</span><span style="color: #AE81FF;">(</span>obj, <span style="color: #E6DB74;">'z'</span>, <span style="color: #AE81FF;">404</span><span style="color: #AE81FF;">)</span>  <span style="color: #75715E;"># </span><span style="color: #75715E;">&#36820;&#22238;obj.z, &#33509;z&#19981;&#23384;&#22312;&#21017;&#36820;&#22238;404</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgheadline63" class="outline-3">
<h3 id="orgheadline63">为类绑定方法</h3>
<div class="outline-text-3" id="text-orgheadline63">
<ul class="org-ul">
<li>给实例绑定方法，仅对该实例生效</li>
</ul>
<div class="org-src-container">

<pre class="src src-python"><span style="color: #FD971F;">s</span> = Student<span style="color: #AE81FF;">()</span>

<span style="color: #F92672;">def</span> <span style="color: #A6E22E;">set_age</span><span style="color: #AE81FF;">(</span><span style="color: #F92672;">self</span>, age<span style="color: #AE81FF;">)</span>:
    <span style="color: #F92672;">self</span>.age = age

<span style="color: #F92672;">from</span> types <span style="color: #F92672;">import</span> MethodType
<span style="color: #FD971F;">s.set_age</span> = MethodType<span style="color: #AE81FF;">(</span>set_age, s, Student<span style="color: #AE81FF;">)</span>  <span style="color: #75715E;"># </span><span style="color: #75715E;">&#23454;&#20363;&#32465;&#23450;&#26041;&#27861;</span>
</pre>
</div>
<ul class="org-ul">
<li>给class绑定方法，对实例均可用</li>
</ul>
<div class="org-src-container">

<pre class="src src-python"><span style="color: #FD971F;">Student.set_age</span> = MethodType<span style="color: #AE81FF;">(</span>set_age, <span style="color: #AE81FF;">None</span>, Student<span style="color: #AE81FF;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgheadline64" class="outline-3">
<h3 id="orgheadline64">使用@property</h3>
<div class="outline-text-3" id="text-orgheadline64">
<ul class="org-ul">
<li>装饰器 <code>@property</code> 能把一个方法变成属性调用</li>
</ul>
<div class="org-src-container">

<pre class="src src-python"><span style="color: #F92672;">class</span> <span style="color: #66D9EF;">Student</span><span style="color: #AE81FF;">(</span><span style="color: #F92672;">object</span><span style="color: #AE81FF;">)</span>:
    <span style="color: #66D9EF;">@property</span>  <span style="color: #75715E;"># </span><span style="color: #75715E;">&#23558;&#26041;&#27861;&#21464;&#20026;&#23646;&#24615;&#33719;&#21462;&#20989;&#25968; get_score(self)</span>
    <span style="color: #F92672;">def</span> <span style="color: #A6E22E;">score</span><span style="color: #AE81FF;">(</span><span style="color: #F92672;">self</span><span style="color: #AE81FF;">)</span>:
        <span style="color: #F92672;">return</span> <span style="color: #F92672;">self</span>._score

    <span style="color: #66D9EF;">@score.setter</span>  <span style="color: #75715E;"># </span><span style="color: #75715E;">&#19982;property&#23545;&#24212;&#30340;&#23646;&#24615;&#36171;&#20540;&#20989;&#25968; set_score(self, value)</span>
    <span style="color: #F92672;">def</span> <span style="color: #A6E22E;">score</span><span style="color: #AE81FF;">(</span><span style="color: #F92672;">self</span>, value<span style="color: #AE81FF;">)</span>:  <span style="color: #75715E;"># </span><span style="color: #75715E;">&#22914;&#26524;&#19981;&#35774;&#32622;setter&#21017;&#23646;&#24615;&#23601;&#26159;&#20010;&#21482;&#35835;&#23646;&#24615;</span>
        <span style="color: #F92672;">if</span> <span style="color: #F92672;">not</span> <span style="color: #F92672;">isinstance</span><span style="color: #AE81FF;">(</span>value, <span style="color: #F92672;">int</span><span style="color: #AE81FF;">)</span>:  <span style="color: #75715E;"># </span><span style="color: #75715E;">&#36171;&#20540;&#26816;&#26597;</span>
            <span style="color: #F92672;">raise</span> <span style="color: #66D9EF;">ValueError</span><span style="color: #AE81FF;">(</span><span style="color: #E6DB74;">'score must be an integer'</span><span style="color: #AE81FF;">)</span>
        <span style="color: #F92672;">self</span>._score = value


<span style="color: #FD971F;">s</span> = Student<span style="color: #AE81FF;">()</span>
<span style="color: #FD971F;">s.score</span> = <span style="color: #AE81FF;">60</span>  <span style="color: #75715E;"># </span><span style="color: #75715E;">&#23454;&#38469;&#36716;&#25442;&#20026;s.set_score(60)</span>
<span style="color: #F92672;">print</span> s.score  <span style="color: #75715E;"># </span><span style="color: #75715E;">&#23454;&#38469;&#36716;&#25442;&#20026;s.get_score()</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgheadline65" class="outline-3">
<h3 id="orgheadline65">多重继承</h3>
<div class="outline-text-3" id="text-orgheadline65">
<ul class="org-ul">
<li>通过多重继承，一个子类可以同时获得多个父类的所有功能</li>
</ul>



<dl class="org-dl">
<dt>Mixin</dt><dd><ul class="org-ul">
<li>Mixin的目的是给一个类增加额外的功能，而不是 <b>is-a</b> 关系，有点类似于JAVA带实现的接口</li>
<li>Mixin命名的时候通常在类名结尾添加 <code>Mixin</code></li>
<li>例如多进程模型为 <code>ForkingMixin</code> 、多线程模型为 <code>ThreadingMixin</code></li>
</ul></dd>
</dl>
</div>
</div>
</div>
<div id="outline-container-orgheadline70" class="outline-2">
<h2 id="orgheadline70"><span class="section-number-2">8</span> 定制类</h2>
<div class="outline-text-2" id="text-8">
</div><div id="outline-container-orgheadline67" class="outline-3">
<h3 id="orgheadline67">__slots__</h3>
<div class="outline-text-3" id="text-orgheadline67">
<p>
<code>__slots__</code> 用于限制class的属性
</p>
<div class="org-src-container">

<pre class="src src-python"><span style="color: #F92672;">class</span> <span style="color: #66D9EF;">Student</span><span style="color: #AE81FF;">(</span><span style="color: #F92672;">object</span><span style="color: #AE81FF;">)</span>:
    <span style="color: #FD971F;">__slots__</span> = <span style="color: #AE81FF;">(</span><span style="color: #E6DB74;">'name'</span>, <span style="color: #E6DB74;">'age'</span><span style="color: #AE81FF;">)</span>  <span style="color: #75715E;"># </span><span style="color: #75715E;">&#29992;tuple&#26469;&#23450;&#20041;&#20801;&#35768;&#32465;&#23450;&#30340;&#23646;&#24615;&#21517;</span>
</pre>
</div>
<ul class="org-ul">
<li><code>__slots__</code> 定义的属性仅对当前类其作用，不会被继承；但如果子类也定义了 <code>__slots__</code> 的话，子类允许定义的属性就是自身的加上父类的 <code>__slots__</code></li>
</ul>
</div>
</div>
<div id="outline-container-orgheadline68" class="outline-3">
<h3 id="orgheadline68">__str__ 与 <span class="underline"><span class="underline">repr</span></span></h3>
<div class="outline-text-3" id="text-orgheadline68">
<p>
<code>__str__</code> 用于直接打印
</p>
<div class="org-src-container">

<pre class="src src-python"><span style="color: #F92672;">class</span> <span style="color: #66D9EF;">Student</span><span style="color: #AE81FF;">(</span><span style="color: #F92672;">object</span><span style="color: #AE81FF;">)</span>:
    <span style="color: #F92672;">def</span> <span style="color: #A6E22E;">__str__</span><span style="color: #AE81FF;">(</span><span style="color: #F92672;">self</span><span style="color: #AE81FF;">)</span>:  <span style="color: #75715E;"># </span><span style="color: #75715E;">&#31243;&#24207;&#20013;&#30452;&#25509;&#36755;&#20986;&#23454;&#20363;&#20250;&#35843;&#29992;&#30340;&#20989;&#25968;</span>
        <span style="color: #F92672;">return</span> <span style="color: #E6DB74;">'This is output'</span>

    <span style="color: #F92672;">def</span> <span style="color: #A6E22E;">__repr__</span><span style="color: #AE81FF;">(</span><span style="color: #F92672;">self</span><span style="color: #AE81FF;">)</span>:  <span style="color: #75715E;"># </span><span style="color: #75715E;">Python&#20132;&#20114;&#30028;&#38754;&#30452;&#25509;&#36755;&#20986;&#35843;&#29992;&#30340;&#20989;&#25968;</span>
        <span style="color: #F92672;">return</span> <span style="color: #E6DB74;">'This is __repr__'</span>


<span style="color: #F92672;">print</span> Student<span style="color: #AE81FF;">()</span>  <span style="color: #75715E;"># </span><span style="color: #75715E;">&#35843;&#29992;__str__</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgheadline69" class="outline-3">
<h3 id="orgheadline69">__iter__</h3>
</div>
</div>
